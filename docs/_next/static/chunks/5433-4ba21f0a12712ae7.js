(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5433],{18558:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var i=t(72976),r=t(16565),o=function(e){let{form:n,onSubmit:t,...o}=e,c=(0,r.cI)(),a=n||c;return(0,i.jsx)(r.RV,{...a,children:(0,i.jsx)("form",{"data-component":"Form",onSubmit:a.handleSubmit(t),...o})})}},34504:function(e,n,t){"use strict";var i=t(65624);n.Z=i.default},25289:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var i=t(72976),r=t(20672),o=t.n(r),c=t(84447),a=t.n(c),l=function(e){let{userId:n,src:t,...r}=e;return(0,i.jsx)("img",{alt:n,className:o()(a().profile),"data-component":"Profile",referrerPolicy:"no-referrer",src:n?"https://ehr.jadehr.co.kr/custom/c2202010/images/emp/".concat(n,".jpg"):t,onError:e=>{let{currentTarget:n}=e;n.src="/jader/assets/images/jader_transparent.png"},...r})}},24988:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var i=t(72976),r=t(331),o=t(16565),c=function(e){var n,t;let{name:c,error:a,helperText:l,options:s,...d}=e,{register:u,formState:h}=(0,o.Gc)();return(0,i.jsx)(r.Z,{"data-component":"TextFormField",error:a||void 0!==h.errors[c],helperText:(null===(t=h.errors[c])||void 0===t?void 0:null===(n=t.message)||void 0===n?void 0:n.toString())||l,...d,...u(c,s)})}},93711:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return x}});var i=t(72976),r=t(38941),o=t(90828),c=t(85031),a=t(54783),l=t.n(a),s=t(54639),d=t(53668),u=t.n(d);let h=l().bind(u());function x(e){let{name:n="BoxPaper",icon:t,title:a,className:l,children:d,...u}=e;return(0,i.jsx)(s.E.div,{"data-component":n,transition:{duration:.5},variants:{init:{opacity:0,translateY:50,width:"100%"},show:{opacity:1,translateY:0}},children:(0,i.jsx)(r.Z,{className:h("paper",l),...u,children:(0,i.jsxs)(o.Z,{borderRadius:5,padding:4,spacing:4,width:"100%",children:[(0,i.jsx)(o.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",width:"100%",children:(0,i.jsxs)(o.Z,{alignItems:"center",direction:"row",spacing:1,children:[t,(0,i.jsx)(c.Z,{fontWeight:"bold",variant:"h6",children:a})]})}),d]})})})}},23768:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var i=t(72976),r=t(34504),o=t(25289),c=t(68682),a=t(27297),l=t(33826),s=t(97669),d=t(7953),u=t(90828),h=t(85031),x=t(54639),p=t(39664),m=function(e){var n;let{item:t,onSelectClick:r,onDeleteClick:m,...j}=e,{palette:{primary:{main:g},divider:f}}=(0,s.Z)(),{setToast:Z}=(0,c.fp)(),w=(0,p.useCallback)(()=>{r&&(r(t),Z({children:(0,i.jsx)(u.Z,{spacing:1,children:(0,i.jsxs)(h.Z,{variant:"caption",children:[t.rowDate," 데이터를 적용했습니다."]})}),severity:"info",title:"신청서 적용"}))},[t,Z,r]),v=(0,p.useCallback)(()=>{m&&(m(t),Z({children:(0,i.jsx)(u.Z,{spacing:1,children:(0,i.jsxs)(h.Z,{variant:"caption",children:[t.rowDate," 데이터를 삭제했습니다."]})}),severity:"info",title:"신청서 삭제"}))},[t,Z,m]);return(0,i.jsx)(x.E.div,{animate:"show",exit:"hide",initial:"hide",transition:{duration:.3},variants:{hide:{opacity:0,scale:.5},show:{opacity:1,scale:1}},children:(0,i.jsxs)(u.Z,{alignItems:"center",border:"2px solid",borderColor:g,borderRadius:4,boxShadow:"3px 3px 16px ".concat(f),direction:"row",padding:2,spacing:2,...j,children:[(0,i.jsxs)(u.Z,{direction:"column",flex:1,spacing:2,children:[(0,i.jsx)(h.Z,{fontWeight:"bold",children:t.rowTitle}),(0,i.jsx)(u.Z,{direction:"row",spacing:2,children:(0,i.jsxs)(u.Z,{alignItems:"center",direction:"row",flex:1,spacing:1,children:[(0,i.jsx)(u.Z,{direction:"row",spacing:-1.5,children:null===(n=t.rowImages)||void 0===n?void 0:n.slice(0,3).map(e=>(0,i.jsx)(o.Z,{height:24,userId:e,width:24},e))}),(0,i.jsx)(h.Z,{fontSize:"0.8rem",children:t.rowImages&&t.rowImages.length>3?"+".concat(t.rowImages.length-3):""})]})})]}),(0,i.jsxs)(u.Z,{alignItems:"end",justifyContent:"space-between",spacing:2,children:[(0,i.jsxs)(u.Z,{alignItems:"center",direction:"row",spacing:1,children:[r?(0,i.jsx)(d.Z,{size:"small",onClick:w,children:(0,i.jsx)(l.Z,{})}):null,m?(0,i.jsx)(d.Z,{size:"small",onClick:v,children:(0,i.jsx)(a.Z,{})}):null]}),(0,i.jsx)(h.Z,{variant:"caption",children:t.rowDate})]})]})})},j=t(4260),g=t(35672),f=function(e){let{list:n,onSelectClick:t,onDeleteClick:o,...c}=e,{palette:{divider:a}}=(0,s.Z)();return(0,i.jsx)(u.Z,{"data-component":"FormList",spacing:2,...c,children:(0,i.jsx)(g.M,{children:n&&n.length>0?n.map(e=>(0,i.jsx)(m,{item:e,onDeleteClick:o,onSelectClick:t},e.date)):(0,i.jsx)(x.E.div,{animate:"show",exit:"hide",initial:"hide",transition:{duration:.3},variants:{hide:{opacity:0,scale:.5},show:{opacity:1,scale:1}},children:(0,i.jsxs)(u.Z,{alignItems:"center",border:"1px solid",borderColor:a,borderRadius:2,justifyContent:"center",padding:2,spacing:2,children:[(0,i.jsx)(j.Z,{width:150,children:(0,i.jsx)(r.Z,{iconName:"add"})}),(0,i.jsx)(h.Z,{variant:"caption",children:"신청서 큐 등록을 눌러 신청서를 추가하세요!"})]})})})})}},24782:function(e,n,t){"use strict";t.d(n,{Z:function(){return j}});var i=t(72976),r=t(34921),o=t(77188),c=t(97738),a=t(73892),l=t(63422),s=t(97669),d=t(97855),u=t(14593),h=t(68974),x=t(83048),p=t(36561),m=t(39664),j=function(e){let{title:n,confirm:t,close:j,type:g,children:f,...Z}=e,{onClose:w}=Z,v=(0,s.Z)(),b=(0,m.useCallback)(e=>{let n=null,t={marginRight:1};return"success"===e?n=(0,i.jsx)(r.Z,{sx:t}):"info"===e?n=(0,i.jsx)(a.Z,{sx:t}):"warn"===e?n=(0,i.jsx)(l.Z,{sx:t}):"error"===e&&(n=(0,i.jsx)(c.Z,{sx:t})),n},[]),C=(0,m.useCallback)(e=>{let n;let{success:t,info:i,warning:r,error:o}=v.palette;return"success"===e?n=t.main:"info"===e?n=i.main:"warn"===e?n=r.main:"error"===e&&(n=o.main),n},[v]),k=(0,m.useCallback)(e=>{w&&w(e,"escapeKeyDown"),(null==j?void 0:j.onClick)&&j.onClick(e)},[w,null==j?void 0:j.onClick]);return(0,i.jsxs)(u.Z,{"data-component":"Modal",...Z,children:[(0,i.jsxs)(p.Z,{alignItems:"center",color:C(g),display:"flex",fontWeight:"bolder",children:[b(g),n]}),(0,i.jsx)(x.Z,{children:f}),(0,i.jsxs)(h.Z,{children:[t?(0,i.jsx)(d.Z,{startIcon:t.icon,onClick:t.onClick,children:t.text||"확인"}):null,(0,i.jsx)(d.Z,{startIcon:(null==j?void 0:j.icon)||(0,i.jsx)(o.Z,{}),onClick:k,children:(null==j?void 0:j.text)||"닫기"})]})]})}},66508:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return a}});var i=t(72976),r=t(86414),o=t(90828),c=t(54639);function a(e){let{name:n="TemplateStack",innerStackProps:t,children:a,...l}=e;return(0,i.jsx)(c.E.div,{animate:"show",initial:"init",style:{width:"100%"},transition:{staggerChildren:.3},children:(0,i.jsx)(o.Z,{alignItems:"center",component:"article","data-component":n,padding:2,...l,children:(0,i.jsx)(r.Z,{...t,children:a})})})}},35059:function(e,n,t){"use strict";t.d(n,{Z:function(){return R}});var i=t(72976),r=t(7302),o=t(25289),c=t(77188),a=t(7953),l=t(90828),s=t(85031),d=t(39664),u=t(16565),h=function(e){let{name:n,unit:t,interactable:r,...h}=e,x=(0,u.Gc)(),p=(0,d.useCallback)(()=>{let e=x.getValues(n);x.setValue(n,e.filter(e=>{let{id:n}=e;return n!==t.id}))},[x,t,n]);return(0,i.jsxs)(l.Z,{alignItems:"center","data-component":"OrganizationSelectItem",direction:"row",padding:1,spacing:1,...h,children:[(0,i.jsx)(o.Z,{alt:t.id,height:24,userId:t.id,width:24}),(0,i.jsx)(s.Z,{flex:1,fontSize:"0.8rem",children:t.name}),r?(0,i.jsx)(a.Z,{sx:{height:24,width:24},onClick:p,children:(0,i.jsx)(c.Z,{sx:{height:18,width:18}})}):null]})},x=t(97669),p=function(e){let{name:n,units:t,interactable:r,...o}=e,{palette:{divider:c}}=(0,x.Z)(),a=(0,d.useMemo)(()=>"to"===n?"결재":"cc"===n?"참조":"ccc"===n?"최종 참조":null,[n]);return(0,i.jsxs)(l.Z,{border:"1px solid",borderColor:c,borderRadius:2,"data-component":"OrganizationSelectList",height:"100%",minHeight:70,width:"100%",...o,children:[(0,i.jsx)(l.Z,{alignItems:"center",borderBottom:"1px solid",borderColor:c,justifyContent:"center",padding:.5,children:(0,i.jsxs)(s.Z,{variant:"caption",children:[a," (",null==t?void 0:t.length,"명)"]})}),(0,i.jsx)(l.Z,{overflow:"auto",children:null==t?void 0:t.map(e=>(0,i.jsx)(h,{interactable:r,name:n,unit:e},"OrganizationSelectItem-".concat(e.id)))})]})},m=t(18558),j=t(24782),g=t(24988),f=t(57987),Z=t(77180),w=t(4260),v=t(97855),b=t(18140);function C(e){let{unit:n,...t}=e,{palette:c}=(0,x.Z)(),a=(0,u.Gc)(),h=(0,d.useCallback)(e=>{let t=a.getValues(e);t.find(e=>{let{id:t}=e;return t===n.id})||a.setValue(e,[...t,n])},[n,a]);return(0,d.useEffect)(()=>{0===a.watch("to").length?a.setError("to",{message:"하나 이상의 결제자를 지정해주세요.",type:"required"}):a.clearErrors("to")},[a.watch("to")]),(0,i.jsx)(w.Z,{"data-component":"OrganizationCard",sx:{"&:hover":{background:c.action.disabledBackground}},...t,children:(0,i.jsxs)(r.Z,{alignItems:"center",direction:"row",mobileProps:{direction:"column"},padding:"10px 25px",point:"md",spacing:2,width:"100%",children:[(0,i.jsxs)(l.Z,{alignItems:"center",direction:"row",flex:1,spacing:2,children:[(0,i.jsx)(o.Z,{height:40,userId:n.id,width:40}),(0,i.jsxs)(l.Z,{alignItems:"start",flex:1,children:[(0,i.jsxs)(l.Z,{alignItems:"center",direction:"row",spacing:.5,children:[n.leader?(0,i.jsx)(Z.Z,{color:"warning"}):null,(0,i.jsx)(s.Z,{fontWeight:"bold",variant:"body2",children:n.name})]}),(0,i.jsx)(s.Z,{variant:"caption",children:n.orgName}),(0,i.jsx)(g.Z,{name:"unit",sx:{display:"none"},type:"radio",value:n.id})]})]}),(0,i.jsxs)(b.Z,{size:"small",children:[(0,i.jsx)(v.Z,{onClick:()=>h("to"),children:"결재"}),(0,i.jsx)(v.Z,{onClick:()=>h("cc"),children:"참조"}),(0,i.jsx)(v.Z,{onClick:()=>h("ccc"),children:"최종 참조"})]})]})})}var k=function(e){let{units:n,...t}=e,{palette:r}=(0,x.Z)();return(0,i.jsx)(l.Z,{"data-component":"OrganizationCardList",sx:{border:"1px solid ".concat(r.action.disabled),borderRadius:2,height:"100%",overflow:"auto",width:"100%"},...t,children:null==n?void 0:n.map(e=>(0,i.jsx)(C,{unit:e},e.id))})},I=t(99799),y=t(94002),z=t(93155),S=t(96055),E=function(e){let{meta:n,...t}=e,{palette:r}=(0,x.Z)(),o=(0,d.useMemo)(()=>{if(n){let e=n.reduce((e,n)=>({...e,[n.id]:n}),{});return n.forEach(n=>{if(n.group){let t=e[n.group];t&&(t.children||(t.children=[]),0===t.children.filter(e=>{let{id:t}=e;return n.id===t}).length&&t.children.push(n))}}),Object.values(e).filter(e=>{let{level:n}=e;return 1===n})}return[]},[n]),c=e=>(0,i.jsx)(z.Z,{collapseIcon:(0,i.jsx)(I.Z,{}),expandIcon:(0,i.jsx)(y.Z,{}),label:(0,i.jsx)(s.Z,{fontSize:"0.8rem",children:e.name}),nodeId:e.id,children:e.children?e.children.map(e=>c(e)):null},e.id);return(0,i.jsx)(S.Z,{"data-component":"OrganizationTree",sx:{border:"1px solid ".concat(r.action.disabled),borderRadius:2,height:"100%",overflow:"auto",padding:2,width:"100%"},...t,children:o.map(e=>c(e))})},V=t(77306),P=t(40913),_=function(){var e,n;let{palette:{error:{main:t}}}=(0,x.Z)(),o=(0,u.Gc)(),{data:c}=f.Z.useGetOrganization(),a=(0,d.useCallback)(()=>{var e,n;let t=o.watch("search");return t&&t.length>1?null==c?void 0:null===(n=c.body)||void 0===n?void 0:n.organizationUnit.filter(e=>{let{name:n,orgName:i}=e;return n.includes(t)||i.includes(t)}):null==c?void 0:null===(e=c.body)||void 0===e?void 0:e.organizationUnit.filter(e=>{let{orgId:n}=e;return n===o.watch("meta")})},[c,o]);return(0,i.jsxs)(l.Z,{height:"100%",spacing:2,children:[(0,i.jsx)(w.Z,{width:"100%",children:(0,i.jsx)(g.Z,{helperText:"두 글자 이상의 키워드 입력 (이름, 부서)",label:"검색",name:"search",size:"small",InputProps:{startAdornment:(0,i.jsx)(P.Z,{position:"start",children:(0,i.jsx)(V.Z,{})})},fullWidth:!0})}),(0,i.jsxs)(r.Z,{direction:"row",flex:1,mobileProps:{direction:"column",overflow:void 0},overflow:"auto",point:"md",spacing:4,children:[(0,i.jsx)(r.Z,{maxWidth:230,point:"md",width:"100%",mobileProps:{height:150,maxWidth:"100%"},children:(0,i.jsx)(E,{defaultExpanded:["RS0000"],meta:null==c?void 0:null===(e=c.body)||void 0===e?void 0:e.organizationMeta,selected:"RS0000",onNodeSelect:(e,n)=>{o.resetField("unit"),o.setValue("meta",n)}})}),(0,i.jsx)(r.Z,{flex:1,mobileProps:{flex:void 0,height:250},point:"md",children:(0,i.jsx)(k,{units:a()})}),(0,i.jsxs)(r.Z,{direction:"column",maxWidth:180,point:"md",spacing:4,width:"100%",mobileProps:{height:350,maxWidth:void 0},children:[(0,i.jsx)(p,{name:"to",units:o.watch("to"),interactable:!0}),(0,i.jsx)(p,{name:"cc",units:o.watch("cc"),interactable:!0}),(0,i.jsx)(p,{name:"ccc",units:o.watch("ccc"),interactable:!0})]})]}),(0,i.jsx)(s.Z,{color:t,variant:"caption",children:null===(n=o.formState.errors.to)||void 0===n?void 0:n.message})]})},W=function(e){let{to:n,cc:t,ccc:r,...o}=e,c=(0,u.Gc)(),a=(0,u.cI)({defaultValues:{cc:t,ccc:r,to:n}});(0,d.useEffect)(()=>{o.open&&(a.setValue("to",n),a.setValue("cc",t),a.setValue("ccc",r))},[o.open,a]);let l=(0,d.useCallback)(e=>{c.setValue("to",e.to),c.setValue("cc",e.cc),c.setValue("ccc",e.ccc),o.onClose&&o.onClose({},"backdropClick")},[c]);return(0,i.jsx)(j.Z,{confirm:{onClick:()=>{a.handleSubmit(l)()}},"data-component":"OrganizationModal",maxWidth:"lg",title:"조직도",type:"info",fullWidth:!0,...o,children:(0,i.jsx)(m.Z,{form:a,onSubmit:l,children:(0,i.jsx)(w.Z,{height:600,paddingTop:1,children:(0,i.jsx)(_,{})})})})},O=t(28961);function R(){let e=(0,u.Gc)(),[n,t]=(0,d.useState)(!1),o=(0,d.useCallback)(()=>{t(!0)},[t]),c=(0,d.useCallback)(()=>{t(!1)},[t]);return(0,i.jsxs)(l.Z,{"data-component":"OrganizationBoard",spacing:2,children:[(0,i.jsx)(l.Z,{alignItems:"end",children:(0,i.jsx)(v.Z,{startIcon:(0,i.jsx)(O.Z,{}),variant:"outlined",onClick:o,children:"변경"})}),(0,i.jsxs)(r.Z,{direction:"row",mobileProps:{direction:"column"},point:"md",spacing:4,children:[(0,i.jsx)(p,{name:"to",units:e.watch("to")||[]}),(0,i.jsx)(p,{name:"cc",units:e.watch("cc")||[]}),(0,i.jsx)(p,{name:"ccc",units:e.watch("ccc")||[]})]}),(0,i.jsx)(W,{cc:e.watch("cc")||[],ccc:e.watch("ccc")||[],open:n,to:e.watch("to")||[],onClose:c})]})}},68682:function(e,n,t){"use strict";t.d(n,{Tf:function(){return r},fp:function(){return a},r_:function(){return o},wz:function(){return c}});var i=t(74959);let r=(0,i.Ue)(e=>({setSimpleModal:n=>{e({simpleModal:n})}})),o=(0,i.Ue)(e=>({setNotifyModal:n=>{e({notifyModal:n})}})),c=(0,i.Ue)(e=>({setLoading:n=>{e({loading:n})}})),a=(0,i.Ue)(e=>({setToast:n=>{e({toast:n})}}))},84447:function(e){e.exports={profile:"Profile_profile__rl8ln"}},53668:function(e){e.exports={paper:"BoxPaper_paper__33a0u"}}}]);