(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[870],{81337:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(91874),a=n(30686),r=function(e){let{name:t="ContentStack",alignItems:n="center",justifyContent:r="center",maxWidth:o=1200,minWidth:s=320,spacing:l=2,width:c="100%",...u}=e;return(0,i.jsx)(a.Z,{alignItems:n,"data-component":t,justifyContent:r,maxWidth:o,minWidth:s,spacing:l,width:c,...u})}},81004:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(91874),a=n(19385),r=n(21370),o=n(30686),s=function(e){let{point:t,mobileProps:n,...s}=e,l=(0,a.Z)(),c=(0,r.Z)(l.breakpoints.up(t||"lg"));return(0,i.jsx)(o.Z,{"data-component":"ResponsiveStack",...c?s:{...s,...n}})}},10870:function(e,t,n){"use strict";n.d(t,{Z:function(){return ex}});var i=n(91874),a=n(81337),r=n(81004),o=n(61761),s=n(83783),l=n(67717),c=n(86420),u=n(93798),d=n(8543),m=n(14293),h=n(88281),j=n(30686),x=n(32261),g=n(82384),p=n.n(g),w=n(39953),f=function(){let{mutateAsync:e}=o.Z.useEvent(),t=(0,w.useCallback)(t=>{e({action:"click",category:"Link",label:t})},[e]);return(0,i.jsxs)(j.Z,{alignItems:"center",component:"footer","data-component":"Footer",justifyContent:"center",width:"100%",children:[(0,i.jsx)(d.Z,{width:"100%",children:(0,i.jsx)(m.Z,{sx:{width:"100%"}})}),(0,i.jsx)(a.Z,{children:(0,i.jsxs)(r.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",paddingBottom:4,paddingLeft:2,paddingRight:2,paddingTop:4,width:"100%",mobileProps:{direction:void 0,justifyContent:"center",spacing:4},children:[(0,i.jsxs)(j.Z,{alignItems:"center",direction:"row",spacing:1,children:[(0,i.jsx)(s.Z,{height:24,width:24}),(0,i.jsx)(x.Z,{color:"dimgray",variant:"caption",children:"Developed by RWB 2022.10"})]}),(0,i.jsxs)(j.Z,{alignItems:"center",direction:"row",spacing:1,children:[(0,i.jsx)(p(),{href:"https://ehr.jadehr.co.kr",target:"_blank",onClick:()=>t("JADE 리다이렉션"),children:(0,i.jsx)(h.Z,{children:(0,i.jsx)("img",{alt:"JADE",height:24,src:"/jader/assets/images/jadehr.png",width:24})})}),(0,i.jsx)(p(),{href:"https://github.com/RWB0104",target:"_blank",onClick:()=>t("GitHub 리다이렉션"),children:(0,i.jsx)(h.Z,{children:(0,i.jsx)(c.Z,{})})}),(0,i.jsx)(p(),{href:"mailto:psj2716@rsquare.co.kr",target:"_blank",onClick:()=>t("이메일 발송"),children:(0,i.jsx)(h.Z,{children:(0,i.jsx)(l.Z,{})})}),(0,i.jsx)(p(),{href:"https://www.linkedin.com/in/itcode/",target:"_blank",onClick:()=>t("LinkedIn 리다이렉션"),children:(0,i.jsx)(h.Z,{children:(0,i.jsx)(u.Z,{})})})]})]})})]})},Z=n(95869),y=n(71048),v=n(22890),k=n(87959),b=n(96332),C=n(46460),I=n.n(C),M=function(){let{asPath:e}=(0,b.useRouter)(),[t,n]=(0,w.useState)(!0),a=(0,w.useCallback)(()=>{window&&window.scrollTo({top:0})},[]);return(0,w.useEffect)(()=>{let e=()=>{n(0!==window.scrollY)};return document&&document.addEventListener("scroll",e),()=>{document&&document.removeEventListener("scroll",e)}},[n]),(0,w.useEffect)(()=>{n(!1)},[e,n]),(0,i.jsx)(v.M,{children:t?(0,i.jsx)(k.E.div,{animate:"animate",className:I().box,exit:"initial",initial:"initial",transition:{duration:.3},variants:{animate:{opacity:1},initial:{opacity:0}},children:(0,i.jsx)(j.Z,{direction:"row",justifyContent:"end",padding:2,children:(0,i.jsx)(y.Z,{"aria-label":"add",color:"primary",size:"small",onClick:a,children:(0,i.jsx)(Z.Z,{})})})}):null})},H=n(86183),E=n(17972),P=n(69799),W=n(73662),L=n(19385),T=n(39918),D=n(7110),S=function(e){let{user:t,onClick:n}=e,{palette:{primary:a,text:r}}=(0,L.Z)();return(0,i.jsx)(j.Z,{alignItems:"center",color:"white","data-component":"UserCard",direction:"row",spacing:2,children:(0,i.jsx)(v.M,{children:(0,i.jsx)(k.E.div,{animate:"show",exit:"init",initial:"init",transition:{duration:1},variants:{init:{opacity:0},show:{opacity:1}},children:t?(0,i.jsx)(k.E.div,{animate:"show",exit:"init",initial:"init",children:(0,i.jsx)(T.Z,{onClick:n,children:(0,i.jsxs)(j.Z,{children:[(0,i.jsx)(x.Z,{color:a.main,fontSize:"0.6rem",children:t.team}),(0,i.jsx)(x.Z,{color:r.primary,children:t.name})]})})}):(0,i.jsx)(k.E.div,{animate:"show",exit:"init",initial:"init",children:(0,i.jsx)(T.Z,{children:(0,i.jsxs)(j.Z,{children:[(0,i.jsx)(D.Z,{height:10,width:70}),(0,i.jsx)(D.Z,{width:70})]})})})})})})},$=n(35116),F=n(82842),_=function(e){let{user:t,list:n}=e,[a,r]=(0,w.useState)(null),o=(0,w.useCallback)(e=>{let{currentTarget:t}=e;r(e=>e?null:t)},[r]),s=(0,w.useCallback)(()=>{r(null)},[r]);return(0,i.jsxs)(d.Z,{"data-component":"UserMenuCard",children:[(0,i.jsx)(S,{user:t,onClick:o}),(0,i.jsx)($.Z,{anchorEl:a,open:null!==a,sx:{marginTop:1},onClose:s,children:null==n?void 0:n.map((e,t)=>{let{icon:n,title:a,link:r}=e;return(0,i.jsx)(F.Z,{children:(0,i.jsx)(p(),{color:"inherit",href:r||"#",children:(0,i.jsxs)(j.Z,{alignItems:"center",direction:"row",justifyContent:"center",spacing:1,children:[n,(0,i.jsx)(x.Z,{variant:"body2",children:a})]})})},t)})})]})},z=n(77717),U=n(91392),Y=n(75806),A=n(35651),Q=n(87935),O=function(e){let{user:t,onMenuClick:n}=e,a=[{icon:(0,i.jsx)(z.Z,{color:"primary",fontSize:"small"}),link:"/mypage",title:"마이페이지"},{icon:(0,i.jsx)(U.Z,{color:"primary",fontSize:"small"}),link:"/logout",title:"로그아웃"}];return(0,i.jsx)(A.Z,{color:"default","data-component":"Header",position:"sticky",sx:{transition:"0.3s background-color",zIndex:1250},children:(0,i.jsx)(Q.Z,{children:(0,i.jsxs)(j.Z,{alignItems:"center",direction:"row",spacing:2,width:"100%",children:[(0,i.jsxs)(j.Z,{alignItems:"center",direction:"row",flex:1,spacing:2,children:[(0,i.jsx)(h.Z,{color:"inherit",onClick:n,children:(0,i.jsx)(Y.Z,{})}),(0,i.jsx)(p(),{href:"/home",children:(0,i.jsxs)(j.Z,{alignItems:"center",direction:"row",spacing:2,children:[(0,i.jsx)(s.Z,{height:32,width:32}),(0,i.jsx)(x.Z,{fontWeight:"bold",variant:"h5",children:"JADER"})]})})]}),(0,i.jsx)(_,{list:a,user:t})]})})})},R=n(29536),G=n(96918),V=n(21254),N=n(37913),B=function(){let{theme:e,setTheme:t}=(0,w.useContext)(R.f),n=(0,w.useCallback)(()=>{t&&t(e=>{let t={...e};return t.mode=(null==e?void 0:e.mode)==="light"?"dark":"light",(0,G.PZ)("jader","parameter",t),t})},[t]);return(0,i.jsx)(T.Z,{color:"inherit","data-component":"ThemeSwitch",onClick:n,children:(0,i.jsxs)(j.Z,{direction:"row",spacing:2,children:[(0,i.jsx)(N.Z,{htmlColor:(null==e?void 0:e.mode)==="light"?"orange":"grey"}),(0,i.jsx)(V.Z,{htmlColor:(null==e?void 0:e.mode)==="dark"?"yellow":"gainsboro"})]})})},J=n(58773),q=function(e){let{list:t,...n}=e,{pathname:a}=(0,b.useRouter)();return(0,i.jsx)(J.ZP,{"data-component":"Sidebar",...n,children:(0,i.jsxs)(j.Z,{color:"grey",marginBottom:4,marginTop:8,minWidth:256,children:[(0,i.jsx)(d.Z,{alignItems:"center",display:"flex",justifyContent:"center",padding:"30px 0px",children:(0,i.jsx)(s.Z,{height:64,width:64})}),(0,i.jsx)(m.Z,{sx:{marginBottom:"10px",marginTop:"10px"},variant:"middle"}),null==t?void 0:t.map((e,t)=>{let n=e.map((e,t)=>{let{icon:n,title:r,link:o,disabled:s,sub:l}=e,c=(0,i.jsx)(T.Z,{color:a===o?"primary":"inherit",size:"large",startIcon:n,sx:{justifyContent:"initial",padding:"10px 25px",textAlign:"start"},fullWidth:!0,children:(0,i.jsxs)(j.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",width:"100%",children:[(0,i.jsx)(d.Z,{children:r}),l?(0,i.jsx)(d.Z,{children:l}):null]})});return s?(c.props.disabled=!0,c):(0,i.jsx)(p(),{href:o||"#",children:c},t)});return n.push((0,i.jsx)(m.Z,{sx:{marginBottom:"10px",marginTop:"10px"},variant:"middle"},"sub-".concat(t))),n}),(0,i.jsx)(B,{})]})})},K=n(34159),X=n(50048),ee=n(32160),et=n(82525),en=n(36812),ei=n(82319),ea=n(58091),er=n(17602),eo=n(19313),es=n(79716),el=n(62099),ec=n(67119),eu=n(8530),ed=n(7433),em=n(6055),eh=n(98697),ej=function(e){let{mode:t}=e,n=(0,b.useRouter)(),a=(0,H.K0)(new Date().setMonth(new Date().getMonth()-6)),r=(0,H.K0)(),[o,s]=(0,w.useState)(!1),[l,c]=(0,w.useState)(void 0),{data:u}=P.Z.useUserInfo({onSuccess(e){var t,n;eh.ZP.gtag("set","user_properties",{JADER_INFO:"".concat(null===(t=e.body)||void 0===t?void 0:t.name," / ").concat(null===(n=e.body)||void 0===n?void 0:n.unique)})}}),{data:d,isSuccess:m}=W.Z.useGetUser(),{data:h,isSuccess:x}=W.Z.useCheck({enabled:"anony"!==t}),{data:g,isLoading:p}=P.Z.useGetApplInfiniteList({endDay:r.day.value,endMonth:r.month.value,endYear:r.year,page:1,size:10,startDay:a.day.value,startMonth:a.month.value,startYear:a.year}),f=(0,w.useMemo)(()=>E.Iv.filter(e=>{let{timestamp:t}=e;return new Date().getTime()<=t+6048e5}).length,[]),Z=(0,w.useMemo)(()=>(null==g?void 0:g.pages[0].list.filter(e=>{let{status:t}=e;return 200===t}).length)||0,[g]),y=(0,w.useMemo)(()=>(null==g?void 0:g.pages[0].list.filter(e=>{let{status:t}=e;return 300===t}).length)||0,[g]),v=(0,w.useCallback)(()=>{s(e=>!e)},[s]),k=(0,w.useCallback)(()=>{s(!1)},[s]),C=(0,w.useMemo)(()=>{var e,t;let n=[[{icon:(0,i.jsx)(eo.Z,{}),link:"/home",title:"홈"},{icon:(0,i.jsx)(K.Z,{}),link:"/notice",sub:(0,i.jsx)(ed.Z,{color:"warning",label:f,size:"small"}),title:"공지사항"},{icon:(0,i.jsx)(ec.Z,{}),link:"/about",title:"둘러보기"}],[{icon:(0,i.jsx)(et.Z,{}),link:"/calendar",title:"근태 현황"},{icon:(0,i.jsx)(ei.Z,{}),link:"/schedule",title:"일정"}],[{icon:(0,i.jsx)(X.Z,{}),link:"/form",sub:p?(0,i.jsx)(j.Z,{alignItems:"center",justifyContent:"center",children:(0,i.jsx)(em.Z,{color:"inherit",size:16})}):Z>0||y>0?(0,i.jsxs)(j.Z,{direction:"row",spacing:.5,children:[Z>0?(0,i.jsx)(ed.Z,{color:"warning",label:Z,size:"small"}):null,y>0?(0,i.jsx)(ed.Z,{color:"error",label:y,size:"small"}):null]}):void 0,title:"신청 내역"},{icon:(0,i.jsx)(ea.Z,{}),link:"/form/vacation",title:"휴가 신청서"},{icon:(0,i.jsx)(en.Z,{}),link:"/form/worktime",title:"출퇴근시각 등록 요청"},{icon:(0,i.jsx)(el.Z,{}),link:"/form/overtime",title:"연장근무 신청"},{icon:(0,i.jsx)(es.Z,{}),link:"/form/homeworking",title:"재택근무 변경/취소 신청"}],[{icon:(0,i.jsx)(z.Z,{}),link:"/mypage",title:"마이페이지"},{icon:(0,i.jsx)(er.Z,{}),link:"/comment",sub:(0,i.jsx)(ed.Z,{color:"info",label:"NEW",size:"small"}),title:"낙서장"}]];return(null==d?void 0:null===(e=d.body)||void 0===e?void 0:null===(t=e.authorityList)||void 0===t?void 0:t.includes("ROLE_ADMIN"))&&n.push([{icon:(0,i.jsx)(eu.Z,{}),link:"/admin/log",title:"로그"},{icon:(0,i.jsx)(ee.Z,{}),link:"/admin/blacklist",title:"블랙리스트"}]),n},[d,f,g,p]);return(0,w.useEffect)(()=>{if(m&&x){var e,n;if(null===(e=h.body)||void 0===e?void 0:e.valid){let i=null===(n=d.body)||void 0===n?void 0:n.authorityList;if("admin"===t&&(null==i?void 0:i.includes("ROLE_ADMIN"))||"basic"===t&&(null==i?void 0:i.includes("ROLE_USER"))){c(!0);return}}c(!1)}},[t,d,h,m,x,c]),(0,w.useEffect)(()=>{!1===l&&n.push("/")},[l]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(O,{user:null==u?void 0:u.body,onMenuClick:v}),(0,i.jsx)(q,{list:C,open:o,onClose:k})]})};function ex(e){let{mode:t="basic",children:n}=e;return(0,i.jsxs)(j.Z,{component:"section","data-component":"PageTemplate",minHeight:"100vh",children:[(0,i.jsx)(ej,{mode:t}),(0,i.jsx)(d.Z,{flex:1,width:"100%",children:n}),(0,i.jsx)(M,{}),(0,i.jsx)(f,{})]})}},61761:function(e,t,n){"use strict";var i=n(96918),a=n(69799),r=n(98697),o=n(30005);t.Z={useEvent:function(e){let{data:t}=a.Z.useUserInfo();return(0,o.useMutation)(["custom","event"],async e=>{var n,i,a;let o=t?"".concat((null==t?void 0:null===(n=t.body)||void 0===n?void 0:n.unique)||"-"," / ").concat((null==t?void 0:null===(i=t.body)||void 0===i?void 0:i.team)||"-"," / ").concat((null==t?void 0:null===(a=t.body)||void 0===a?void 0:a.name)||"-"):"익명";r.ZP.event(e,{jader_unique:o})},e)},useLogout:function(e){return(0,o.useQuery)(["custom","logout"],async()=>{await (0,i.PS)("jader","token")},e)}}},69799:function(e,t,n){"use strict";var i=n(74699),a=n(47761),r=n(30005);t.Z={useDeleteForm:function(e){let t=(0,i.m)();return(0,r.useMutation)(["jade","deleteForm"],async e=>{await new a.$dH(await t).deleteForm(e)},e)},useGetApplInfiniteList:function(e,t){let n=(0,i.m)();return(0,r.useInfiniteQuery)(["jade","getApplList",e],async t=>{var i,r,o;let{pageParam:s=1}=t,l=await new a.$dH(await n).getApplList({...e,page:s});return{currentPage:s,list:(null===(i=l.body)||void 0===i?void 0:i.list)||[],totalCount:(null===(r=l.body)||void 0===r?void 0:r.total)||0,totalPage:Math.ceil(((null===(o=l.body)||void 0===o?void 0:o.total)||0)/e.size)}},{getNextPageParam(e){let{currentPage:t,totalPage:n}=e;return t===n?void 0:t+1},getPreviousPageParam(e){let{currentPage:t}=e;return 1===t?void 0:t-1},...t})},useGetApplUserList:function(e,t){let n=(0,i.m)();return(0,r.useQuery)(["jade","getApplUserList",e],async()=>{let t=await new a.$dH(await n).getApplUserList({type:e});return t},t)},useGetCalendar:function(e,t){let n=(0,i.m)();return(0,r.useQuery)(["jade","getCalendar",e.year,e.month],async()=>{let t=await new a.$dH(await n).getCalendar(e);return t},t)},useGetOrganization:function(e){let t=(0,i.m)();return(0,r.useQuery)(["jade","getOrganization"],async()=>{let e=await new a.$dH(await t).getOrganization();return e},e)},useGetSchedule:function(e,t){let n=(0,i.m)();return(0,r.useQuery)(["jade","getSchedule",e.year,e.month],async()=>{let t=await new a.$dH(await n).getSchedule(e);return t},t)},useGetVacationDate:function(e,t){let n=(0,i.m)(),o="".concat(e.startYmdYear,"-").concat(e.startYmdMonth,"-").concat(e.startYmdDay," ").concat(e.endYmdYear,"-").concat(e.endYmdMonth,"-").concat(e.endYmdDay);return(0,r.useQuery)(["jade","getVacationDate",o],async()=>{let t=await new a.$dH(await n).getVacationDate(e);return t},{enabled:4010===e.vacationType&&0!==e.startYmdYear&&0!==e.endYmdYear,...t})},useGetVacationTimeInfo:function(e,t){let n=(0,i.m)();return(0,r.useQuery)(["jade","getVacationTimeInfo"],async()=>{let t=await new a.$dH(await n).getVacationTimeInfo({type:e});return t},t)},useGetWorkTimeDetailInfo:function(e,t){let n=(0,i.m)();return(0,r.useQuery)(["jade","getWorkTimeDetailInfo",e.year,e.month],async()=>{let t=await new a.$dH(await n).getWorkTimeDetailInfo(e);return t},t)},useLogin:function(e){let t=(0,i.m)();return(0,r.useQuery)(["jade","login"],async()=>{let e=await new a.$dH(await t).postLogin();return e},e)},usePostCalendarPlan:function(e){let t=(0,i.m)();return(0,r.useMutation)(["jade","postCalendarPlan"],async e=>{let n=await new a.$dH(await t).postCalendarPlan(e);return n},e)},usePostHomeWorkingForm:function(e){let t=(0,i.m)();return(0,r.useMutation)(["jade","postHomeWorkingForm"],async e=>{await new a.$dH(await t).postHomeWorkingForm(e)},e)},usePostOvertimeForm:function(e){let t=(0,i.m)();return(0,r.useMutation)(["jade","postOvertimeForm"],async e=>{await new a.$dH(await t).postOvertimeForm(e)},e)},usePostVacationForm:function(e){let t=(0,i.m)();return(0,r.useMutation)(["jade","postVacationForm"],async e=>{await new a.$dH(await t).postVacationForm(e)},e)},usePostWorkIn:function(e){let t=(0,i.m)();return(0,r.useMutation)(["jade","postWorkIn"],async()=>{let e=await new a.$dH(await t).postWorkIn();return e},e)},usePostWorkOut:function(e){let t=(0,i.m)();return(0,r.useMutation)(["jade","postWorkOut"],async()=>{let e=await new a.$dH(await t).postWorkOut();return e},e)},usePostWorkTimeForm:function(e){let t=(0,i.m)();return(0,r.useMutation)(["jade","postWorkTimeForm"],async e=>{await new a.$dH(await t).postWorkTimeForm(e)},e)},useTime:function(e){let t=(0,i.m)();return(0,r.useQuery)(["jade","time"],async()=>{let e=await new a.$dH(await t).getWorkTimeInfo();return e},e)},useUserInfo:function(e){let t=(0,i.m)();return(0,r.useQuery)(["jade","userInfo"],async()=>{let e=await new a.$dH(await t).getUserInfo();return e},e)}}},73662:function(e,t,n){"use strict";var i=n(74699),a=n(47761),r=n(30005);t.Z={useCheck:function(e){let t=(0,i.m)();return(0,r.useQuery)(["user","check"],async()=>{let e=await new a.ii(await t).getValidUser();return e},e)},useGetUser:function(e){let t=(0,i.m)();return(0,r.useQuery)(["user","getUser"],async()=>{let e=await new a.ii(await t).getUser();return e},e)},useLogin:function(e){let t=(0,i.m)();return(0,r.useMutation)(["user","login"],async e=>{let n=await new a.ii(await t).login(e);return n},e)}}},46460:function(e){e.exports={box:"InteractionBox_box__J_TBN"}}}]);