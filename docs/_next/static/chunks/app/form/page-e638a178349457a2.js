(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4609],{47912:function(e,t,n){Promise.resolve().then(n.bind(n,96705)),Promise.resolve().then(n.bind(n,49420)),Promise.resolve().then(n.bind(n,69392)),Promise.resolve().then(n.bind(n,83377)),Promise.resolve().then(n.bind(n,50209)),Promise.resolve().then(n.bind(n,66508)),Promise.resolve().then(n.bind(n,47703))},18558:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(72976),r=n(16565),l=function(e){let{form:t,onSubmit:n,...l}=e,s=(0,r.cI)(),o=t||s;return(0,i.jsx)(r.RV,{...o,children:(0,i.jsx)("form",{"data-component":"Form",onSubmit:o.handleSubmit(n),...l})})}},34504:function(e,t,n){"use strict";var i=n(65624);t.Z=i.default},24988:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(72976),r=n(331),l=n(16565),s=function(e){var t,n;let{name:s,error:o,helperText:a,options:c,...d}=e,{register:h,formState:u}=(0,l.Gc)();return(0,i.jsx)(r.Z,{"data-component":"TextFormField",error:o||void 0!==u.errors[s],helperText:(null===(n=u.errors[s])||void 0===n?void 0:null===(t=n.message)||void 0===t?void 0:t.toString())||a,...d,...h(s,c)})}},93711:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var i=n(72976),r=n(38941),l=n(90828),s=n(85031),o=n(54783),a=n.n(o),c=n(54639),d=n(53668),h=n.n(d);let u=a().bind(h());function x(e){let{name:t="BoxPaper",icon:n,title:o,className:a,children:d,...h}=e;return(0,i.jsx)(c.E.div,{"data-component":t,transition:{duration:.5},variants:{init:{opacity:0,translateY:50,width:"100%"},show:{opacity:1,translateY:0}},children:(0,i.jsx)(r.Z,{className:u("paper",a),...h,children:(0,i.jsxs)(l.Z,{borderRadius:5,padding:4,spacing:4,width:"100%",children:[(0,i.jsx)(l.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",width:"100%",children:(0,i.jsxs)(l.Z,{alignItems:"center",direction:"row",spacing:1,children:[n,(0,i.jsx)(s.Z,{fontWeight:"bold",variant:"h6",children:o})]})}),d]})})})}},68526:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n(72976),r=n(31871),l=n(2637),s=n(57627),o=n(38141),a=n(16565),c=function(e){var t,n;let{name:c,error:d,helperText:h,...u}=e,{formState:x,control:j}=(0,a.Gc)();return(0,i.jsxs)(r.Z,{"data-component":"FormSelect",fullWidth:u.fullWidth,children:[(0,i.jsx)(s.Z,{error:d||void 0!==x.errors[c],required:!0,children:u.label}),(0,i.jsx)(a.Qr,{control:j,name:c,render:e=>{let{field:t}=e;return(0,i.jsx)(o.Z,{...t,...u})}}),(0,i.jsx)(l.Z,{error:d||void 0!==x.errors[c],children:(null===(n=x.errors[c])||void 0===n?void 0:null===(t=n.message)||void 0===t?void 0:t.toString())||h})]})}},66508:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var i=n(72976),r=n(86414),l=n(90828),s=n(54639);function o(e){let{name:t="TemplateStack",innerStackProps:n,children:o,...a}=e;return(0,i.jsx)(s.E.div,{animate:"show",initial:"init",style:{width:"100%"},transition:{staggerChildren:.3},children:(0,i.jsx)(l.Z,{alignItems:"center",component:"article","data-component":t,padding:2,...a,children:(0,i.jsx)(r.Z,{...n,children:o})})})}},47703:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var i=n(72976),r=n(18558),l=n(34504),s=n(68682),o=n(80562),a=n(57987),c=n(93711),d=n(51584),h=n(16565),u=function(e){let{name:t,...n}=e,{register:r}=(0,h.Gc)();return(0,i.jsx)(d.Z,{...n,...r(t)})},x=n(7302),j=n(24988),p=n(68526),Z=n(77306),f=n(4260),m=n(97855),g=n(83246),v=n(56717),w=n(49333),b=n(90828);function y(){return(0,i.jsxs)(b.Z,{"data-component":"FormBoxFilter",paddingBottom:2,paddingTop:2,spacing:2,children:[(0,i.jsxs)(x.Z,{direction:"row",mobileProps:{direction:void 0},point:"sm",spacing:2,children:[(0,i.jsx)(f.Z,{minWidth:"50%",children:(0,i.jsx)(p.Z,{label:"타입",name:"type",size:"small",fullWidth:!0,required:!0,children:(0,i.jsx)(w.Z,{value:"0",children:"전체"})})}),(0,i.jsx)(j.Z,{label:"시작일자",name:"start",size:"small",type:"date",fullWidth:!0,required:!0}),(0,i.jsx)(j.Z,{label:"종료일자",name:"end",size:"small",type:"date",fullWidth:!0,required:!0})]}),(0,i.jsxs)(x.Z,{direction:"row",mobileProps:{direction:void 0},point:"sm",spacing:2,children:[(0,i.jsx)(j.Z,{label:"키워드",name:"keyword",size:"small",fullWidth:!0}),(0,i.jsx)(f.Z,{minWidth:100,children:(0,i.jsxs)(p.Z,{label:"페이지",name:"size",size:"small",fullWidth:!0,required:!0,children:[(0,i.jsx)(w.Z,{value:10,children:"10"}),(0,i.jsx)(w.Z,{value:20,children:"20"}),(0,i.jsx)(w.Z,{value:30,children:"30"}),(0,i.jsx)(w.Z,{value:50,children:"50"}),(0,i.jsx)(w.Z,{value:100,children:"100"})]})})]}),(0,i.jsxs)(x.Z,{direction:"row",point:"sm",spacing:2,children:[(0,i.jsx)(v.Z,{children:(0,i.jsx)(g.Z,{control:(0,i.jsx)(u,{name:"status",value:900}),label:"승인"})}),(0,i.jsx)(v.Z,{children:(0,i.jsx)(g.Z,{control:(0,i.jsx)(u,{name:"status",value:200}),label:"진행중"})}),(0,i.jsx)(v.Z,{children:(0,i.jsx)(g.Z,{control:(0,i.jsx)(u,{name:"status",value:300}),label:"반려"})})]}),(0,i.jsx)(m.Z,{startIcon:(0,i.jsx)(Z.Z,{}),type:"submit",variant:"contained",children:"검색"})]})}var C=n(88556),S=n(66139),I=n(77188),z=n(82062),W=n(69764),k=n(78874),M=n(97669),P=n(46750),E=n(85031),V=n(54639),F=n(39664),_=function(e){let{id:t,category:n,code:r,name:l,reason:s,status:a,timestamp:c}=e,u=(0,h.Gc)(),{palette:{divider:x,success:j,warning:p,error:Z,text:m}}=(0,M.Z)(),g=(0,F.useMemo)(()=>900===a?j.light:300===a?Z.light:200===a?p.light:x,[a,j,p,Z]),v=(0,F.useMemo)(()=>900===a?(0,i.jsx)(S.Z,{fontSize:"large"}):300===a?(0,i.jsx)(I.Z,{fontSize:"large"}):200===a?(0,i.jsx)(z.Z,{fontSize:"large"}):(0,i.jsx)(W.Z,{fontSize:"large"}),[a]),w=(0,F.useMemo)(()=>{let e=u.watch("list");if(e.filter(e=>{let{applId:n}=e;return n===t}).length>0&&200===a)return"".concat(p.light,"22")},[u,t,a]),y=(0,F.useMemo)(()=>{let e=(0,o.K0)(c);return"".concat(e.year,"-").concat(e.month.text,"-").concat(e.day.text," (").concat(e.weekday.text,") ").concat(e.hour.text,":").concat(e.minute.text,":").concat(e.second.text)},[c]);return(0,i.jsxs)(b.Z,{bgcolor:w,border:"3px solid",borderColor:g,borderRadius:2,boxShadow:"3px 3px 16px ".concat(x),direction:"row",overflow:"hidden",children:[(0,i.jsxs)(b.Z,{borderRight:"5px dashed ".concat(g),flex:1,padding:2,spacing:2,children:[(0,i.jsx)(b.Z,{direction:"row",children:(0,i.jsxs)(b.Z,{flex:1,children:[(0,i.jsxs)(b.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:1,children:[(0,i.jsx)(E.Z,{variant:"caption",children:n}),(0,i.jsxs)(b.Z,{alignItems:"center",color:m.disabled,direction:"row",fontSize:"0.8rem",justifyContent:"end",spacing:.5,children:[(0,i.jsx)(C.Z,{color:"inherit",fontSize:"inherit"}),(0,i.jsx)(E.Z,{color:m.disabled,fontSize:"0.8rem",children:t})]})]}),(0,i.jsx)(E.Z,{color:g,fontWeight:"bold",variant:"h5",children:l})]})}),(0,i.jsx)(E.Z,{color:m.disabled,flex:1,fontSize:"0.8rem",children:s}),(0,i.jsx)(P.Z,{}),(0,i.jsxs)(b.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",children:[(0,i.jsx)(f.Z,{children:200===a?(0,i.jsx)(d.Z,{checked:u.getValues("list").filter(e=>{let{applId:n}=e;return n===t}).length>0,color:"warning",size:"small",sx:{padding:0},onChange:(e,n)=>{if(n){let e=u.getValues("list");e.push({applCode:r,applId:t}),u.setValue("list",e)}else{let e=u.getValues("list").filter(e=>{let{applId:n}=e;return n!==t});u.setValue("list",e)}}}):null}),(0,i.jsxs)(b.Z,{alignItems:"center",color:m.disabled,direction:"row",fontSize:"0.8rem",justifyContent:"end",spacing:.5,children:[(0,i.jsx)(k.Z,{color:"inherit",fontSize:"inherit"}),(0,i.jsx)(E.Z,{color:"inherit",fontSize:"inherit",children:y})]})]})]}),(0,i.jsx)(b.Z,{bgcolor:g,justifyContent:"center",padding:2,children:(0,i.jsx)(V.E.div,{animate:{scale:[0,1.2,1]},transition:{delay:.5,duration:.5},children:(0,i.jsx)(b.Z,{alignItems:"center",color:"white",justifyContent:"center",children:v})})})]})},D=n(47922),N=n(56957),q=n(74170),R=n(27297),T=n(94350),Y=n(94166),A=n(77928),B=n(17351),G=n(17316),K=n(90575),U=n(35672);function O(){let e=(0,o.K0)(new Date().setMonth(new Date().getMonth()-6)),t=(0,o.K0)(),{palette:{success:n,warning:d,error:u,divider:x}}=(0,M.Z)(),[j,p]=(0,K.H)(),Z=(0,F.useRef)(null),{setSimpleModal:g}=(0,s.Tf)(),{setLoading:v}=(0,s.wz)(),{setToast:w}=(0,s.fp)(),C=(0,h.cI)({defaultValues:{end:"".concat(t.year,"-").concat(t.month.text,"-").concat(t.day.text),size:10,start:"".concat(e.year,"-").concat(e.month.text,"-").concat(e.day.text),type:"0"}}),S=(0,h.cI)({defaultValues:{list:[]}}),[I,z]=(0,F.useState)("hide"),[W,k]=(0,F.useState)({endDay:t.day.value,endMonth:t.month.value,endYear:t.year,page:1,size:10,startDay:e.day.value,startMonth:e.month.value,startYear:e.year}),O=a.Z.useGetApplInfiniteList(W),H=a.Z.useDeleteForm({onMutate:e=>{v({children:"신청 내역 ".concat(e.openApiRequestDeleteFormProps.length,"건 삭제 중"),open:!0})},onSettled:()=>{v(void 0)},onSuccess:()=>{let e=S.getValues("list").length;g(void 0),O.refetch(),S.reset(),w({children:(0,i.jsx)(b.Z,{children:(0,i.jsxs)(E.Z,{variant:"caption",children:[e,"건의 신청 내역 삭제를 완료됐습니다."]})}),severity:"success",title:"신청 내역 삭제"})}}),{data:L,hasNextPage:Q,fetchNextPage:J,isSuccess:X,isLoading:$,isRefetching:ee,refetch:et,remove:en}=O,ei=(0,F.useMemo)(()=>null==L?void 0:L.pages.flat().flatMap(e=>{let{list:t}=e;return t}),[L]),er=(0,F.useCallback)(e=>{let{start:t,end:n,keyword:i,type:r,size:l,status:s}=e,a=(0,o.K0)(t),c=(0,o.K0)(n);k({endDay:c.day.value,endMonth:c.month.value,endYear:c.year,keyword:((null==i?void 0:i.length)||0)>0?i:void 0,page:1,size:l,startDay:a.day.value,startMonth:a.month.value,startYear:a.year,status:s,type:"0"===r?void 0:r})},[k]);(0,F.useEffect)(()=>{let e=new IntersectionObserver(e=>{e.forEach(e=>{let{isIntersecting:t}=e;t&&Q&&J()})},{threshold:1});return Z.current&&e.observe(Z.current),()=>{e.disconnect()}},[Z.current,Q,J]),(0,F.useEffect)(()=>{j.current&&("show"===I?p(j.current,{height:j.current.scrollHeight}):p(j.current,{height:0,overflow:"hidden"}))},[j.current,I]);let el=(0,F.useCallback)(()=>{let e=S.getValues("list");if(0===e.length){let e=(null==ei?void 0:ei.filter(e=>{let{status:t}=e;return 200===t}).map(e=>{let{id:t,applType:n}=e;return{applCode:n,applId:t}}))||[];S.setValue("list",e)}else S.setValue("list",[])},[S,ei]),es=(0,F.useCallback)(e=>{g({body:"선택한 내역 ".concat(e.list.length,"건을 삭제하시겠습니까?"),confirm:{onClick:()=>{H.mutate({openApiRequestDeleteFormProps:e.list})}},title:"신청 내역 삭제",type:"info"})},[]);return(0,i.jsx)(c.default,{icon:(0,i.jsx)(N.Z,{color:"primary"}),name:"FormBox",title:"신청 내역",children:(0,i.jsxs)(b.Z,{spacing:2,children:[(0,i.jsxs)(A.Z,{severity:"info",children:[(0,i.jsx)(B.Z,{children:"안내"}),(0,i.jsxs)(b.Z,{children:[(0,i.jsx)(E.Z,{variant:"caption",children:"상세 필터를 통해 원하는 조건을 지정하여 검색할 수 있습니다."}),(0,i.jsx)(E.Z,{variant:"caption",children:"결재가 진행 중인 신청서 티켓의 좌측 하단 체크박스를 선택하고, 리스트 상단 우측의 삭제 버튼을 통해 신청서를 일괄삭제할 수 있습니다."}),(0,i.jsxs)(E.Z,{variant:"caption",children:["승인된 신청은 ",(0,i.jsx)(E.Z,{color:n.light,component:"span",fontWeight:"bold",variant:"caption",children:"녹색"}),", 진행 중인 신청은 ",(0,i.jsx)(E.Z,{color:d.light,component:"span",fontWeight:"bold",variant:"caption",children:"주황색"}),", 반려된 신청은 ",(0,i.jsx)(E.Z,{color:u.light,component:"span",fontWeight:"bold",variant:"caption",children:"적색"}),", 간혹 상태를 확인할 수 없는 신청서는 ",(0,i.jsx)(E.Z,{color:x,component:"span",fontWeight:"bold",variant:"caption",children:"회색"}),"으로 표시됩니다."]})]})]}),(0,i.jsx)(V.E.div,{ref:j,transition:{duration:.5},initial:{height:0,overflow:"hidden"},children:(0,i.jsx)(r.Z,{form:C,onSubmit:er,children:(0,i.jsx)(y,{})})}),(0,i.jsx)(m.Z,{variant:"text",endIcon:(0,i.jsx)(V.E.div,{animate:I,transition:{duration:.3},variants:{hide:{rotateZ:"180deg"},show:{rotateZ:0}},children:(0,i.jsx)(b.Z,{children:(0,i.jsx)(D.Z,{})})}),onClick:()=>z(e=>"show"===e?"hide":"show"),children:"상세필터 열기"}),(0,i.jsx)(P.Z,{}),(0,i.jsxs)(b.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:2,children:[(0,i.jsxs)(b.Z,{direction:"row",spacing:2,children:[(0,i.jsx)(G.Z,{title:"새로고침",arrow:!0,children:(0,i.jsx)(m.Z,{sx:{minWidth:36,width:36},variant:"outlined",onClick:()=>{en(),et()},children:(0,i.jsx)(Y.Z,{})})}),(0,i.jsx)(G.Z,{title:0===S.watch("list").length?"전체 선택":"전체 선택 해제",arrow:!0,children:(0,i.jsx)(m.Z,{disabled:(null==ei?void 0:ei.filter(e=>{let{status:t}=e;return 200===t}).length)===0,sx:{minWidth:36,width:36},variant:"outlined",onClick:el,children:0===S.watch("list").length?(0,i.jsx)(q.Z,{}):(0,i.jsx)(T.Z,{})})})]}),(0,i.jsx)(G.Z,{title:S.watch("list").length>0?"선택한 신청 내역 삭제":"삭제할 신청 내역을 선택하세요.",arrow:!0,children:(0,i.jsx)(f.Z,{children:(0,i.jsx)(m.Z,{disabled:0===S.watch("list").length,startIcon:(0,i.jsx)(R.Z,{}),variant:"outlined",onClick:()=>{S.handleSubmit(es)()},children:"삭제"})})})]}),(0,i.jsxs)(b.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",children:[(0,i.jsx)(b.Z,{alignItems:"center",direction:"row",spacing:2,children:(0,i.jsx)(E.Z,{textAlign:"end",children:X?"".concat(L.pages[0].totalPage," 중 ").concat(L.pages.length," 페이지"):""})}),(0,i.jsx)(E.Z,{textAlign:"end",children:X?"총 ".concat(L.pages[0].totalCount,"개"):""})]}),(0,i.jsx)(U.M,{children:(0,i.jsx)(V.E.div,{animate:X?"show":"hide",exit:X?"hide":"show",initial:X?"hide":"show",transition:{staggerChildren:.05},children:(0,i.jsx)(r.Z,{form:S,onSubmit:es,children:(0,i.jsxs)(b.Z,{spacing:2,children:[$?(0,i.jsx)(f.Z,{alignSelf:"center",maxWidth:400,width:"100%",children:(0,i.jsx)(l.Z,{iconName:"paperplane"})}):null,((null==ei?void 0:ei.length)||0)>9?(0,i.jsx)(b.Z,{alignItems:"center",justifyContent:"center",ref:Z,children:ee?(0,i.jsx)(f.Z,{height:100,width:100,children:(0,i.jsx)(l.Z,{iconName:"loading"})}):null}):null,X?null==ei?void 0:ei.map(e=>{let{category:t,applType:n,applName:r,id:l,reason:s,status:o,timestamp:a}=e;return(0,i.jsx)(V.E.div,{variants:{hide:{opacity:0,scale:.5},show:{opacity:1,scale:1}},layout:!0,children:(0,i.jsx)(_,{category:t,code:n,id:l,name:r,reason:s,status:o,timestamp:a})},"".concat(n,"-").concat(l))}):null,((null==ei?void 0:ei.length)||0)>9?(0,i.jsx)(b.Z,{alignItems:"center",justifyContent:"center",ref:Z,children:ee?(0,i.jsx)(f.Z,{height:100,width:100,children:(0,i.jsx)(l.Z,{iconName:"loading"})}):null}):null]})})})})]})})}},68682:function(e,t,n){"use strict";n.d(t,{Tf:function(){return r},fp:function(){return o},r_:function(){return l},wz:function(){return s}});var i=n(74959);let r=(0,i.Ue)(e=>({setSimpleModal:t=>{e({simpleModal:t})}})),l=(0,i.Ue)(e=>({setNotifyModal:t=>{e({notifyModal:t})}})),s=(0,i.Ue)(e=>({setLoading:t=>{e({loading:t})}})),o=(0,i.Ue)(e=>({setToast:t=>{e({toast:t})}}))},53668:function(e){e.exports={paper:"BoxPaper_paper__33a0u"}}},function(e){e.O(0,[3433,8119,5173,5641,4786,5748,9420,9497,7604,4017,3119,7257,3577,1101,6565,9831,7316,6051,1687,1040,1511,9813,5624,4207,8802,1744],function(){return e(e.s=47912)}),_N_E=e.O()}]);