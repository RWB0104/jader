(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[726],{1901:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});var i=t(5893),c=t(7536),r=function(e){let{form:n,onSubmit:t,...r}=e,o=(0,c.cI)(),l=n||o;return(0,i.jsx)(c.RV,{...l,children:(0,i.jsx)("form",{"data-component":"Form",onSubmit:l.handleSubmit(t),...r})})}},7679:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var i=t(5893),c=t(4184),r=t.n(c),o=t(2608),l=t.n(o),s=function(e){let{userId:n,src:t,...c}=e;return(0,i.jsx)("img",{alt:n,className:r()(l().profile),referrerPolicy:"no-referrer",src:n?"https://ehr.jadehr.co.kr/custom/c2202010/images/emp/".concat(n,".jpg"):t,onError(e){let{currentTarget:n}=e;n.src="/jader/assets/images/jader_transparent.png"},...c})}},4794:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var i=t(5893),c=t(2097),r=t(1225),o=t(9144),l=function(e){let{point:n,mobileProps:t,...l}=e,s=(0,c.Z)(),a=(0,r.Z)(s.breakpoints.up(n||"lg"));return(0,i.jsx)(o.Z,{"data-component":"ResponsiveStack",...a?l:{...l,...t}})}},413:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var i=t(5893),c=t(7836),r=t(7536),o=function(e){var n,t;let{name:o,error:l,helperText:s,options:a,...d}=e,{register:u,formState:h}=(0,r.Gc)();return(0,i.jsx)(c.Z,{"data-component":"TextFormField",error:l||void 0!==h.errors[o],helperText:(null===(n=h.errors[o])||void 0===n?void 0:null===(t=n.message)||void 0===t?void 0:t.toString())||s,...d,...u(o,a)})}},1484:function(e,n,t){"use strict";t.d(n,{Z:function(){return g}});var i=t(5893),c=t(3050),r=t(7679),o=t(1733),l=t(7957),s=t(1760),a=t(562),d=t(918),u=t(9144),h=t(9630),x=t(7294),m=t(7536),p=function(e){var n;let{item:t,onSelectClick:c,onDeleteClick:p,...j}=e,g=(0,m.Gc)(),[Z,f]=(0,x.useState)(!0),b=(0,x.useCallback)(()=>{c&&c(t)},[g,t,c]),v=(0,x.useCallback)(()=>{f(!1)},[]),w=(0,x.useCallback)(()=>{!Z&&p&&p(t)},[Z,t]);return(0,i.jsx)(s.Z,{in:Z,style:{transformOrigin:"0 0 0"},timeout:500,onAnimationEnd:w,children:(0,i.jsx)(d.Z,{"data-component":"FormListItem",children:(0,i.jsxs)(u.Z,{alignItems:"center",direction:"row",padding:2,spacing:2,...j,children:[(0,i.jsxs)(u.Z,{direction:"column",flex:1,spacing:2,children:[(0,i.jsx)(h.Z,{fontWeight:"bold",children:t.rowTitle}),(0,i.jsxs)(u.Z,{direction:"row",spacing:2,children:[(0,i.jsxs)(u.Z,{alignItems:"center",direction:"row",flex:1,spacing:1,children:[(0,i.jsx)(u.Z,{direction:"row",spacing:-1.5,children:null===(n=t.rowImages)||void 0===n?void 0:n.slice(0,3).map(e=>(0,i.jsx)(r.Z,{height:24,userId:e,width:24},e))}),(0,i.jsx)(h.Z,{fontSize:"0.8rem",children:t.rowImages&&t.rowImages.length>3?"+".concat(t.rowImages.length-3):""})]}),(0,i.jsx)(h.Z,{variant:"caption",children:t.rowDate})]})]}),(0,i.jsxs)(u.Z,{alignItems:"center",direction:"row",spacing:1,children:[c?(0,i.jsx)(a.Z,{onClick:b,children:(0,i.jsx)(l.Z,{})}):null,p?(0,i.jsx)(a.Z,{onClick:v,children:(0,i.jsx)(o.Z,{})}):null]})]})})})},j=t(1953),g=function(e){let{list:n,onSelectClick:t,onDeleteClick:r,...o}=e;return(0,i.jsx)(u.Z,{"data-component":"FormList",spacing:2,...o,children:n&&n.length>0?n.map(e=>(0,i.jsx)(p,{item:e,onDeleteClick:r,onSelectClick:t},e.date)):(0,i.jsxs)(u.Z,{alignItems:"center",justifyContent:"center",spacing:2,children:[(0,i.jsx)(j.Z,{width:150,children:(0,i.jsx)(c.Z,{iconName:"add"})}),(0,i.jsx)(h.Z,{variant:"subtitle1",children:"신청서 큐 등록을 눌러 신청서를 추가하세요!"})]})})}},4839:function(e,n,t){"use strict";t.d(n,{Z:function(){return E}});var i=t(5893),c=t(4794),r=t(7679),o=t(594),l=t(562),s=t(9144),a=t(9630),d=t(7294),u=t(7536),h=function(e){let{name:n,unit:t,interactable:c,...h}=e,x=(0,u.Gc)(),m=(0,d.useCallback)(()=>{let e=x.getValues(n);x.setValue(n,e.filter(e=>{let{id:n}=e;return n!==t.id}))},[x,t,n]);return(0,i.jsxs)(s.Z,{alignItems:"center","data-component":"OrganizationSelectItem",direction:"row",padding:1,spacing:1,...h,children:[(0,i.jsx)(r.Z,{alt:t.id,height:24,userId:t.id,width:24}),(0,i.jsx)(a.Z,{flex:1,fontSize:"0.8rem",children:t.name}),c?(0,i.jsx)(l.Z,{sx:{height:24,width:24},onClick:m,children:(0,i.jsx)(o.Z,{sx:{height:18,width:18}})}):null]})},x=t(2097),m=function(e){let{name:n,units:t,interactable:c,...r}=e,{palette:o}=(0,x.Z)(),l=(0,d.useMemo)(()=>"to"===n?"결재":"cc"===n?"참조":"ccc"===n?"최종 참조":null,[n]);return(0,i.jsxs)(s.Z,{border:"1px solid ".concat(o.action.disabled),borderRadius:2,"data-component":"OrganizationSelectList",height:"100%",minHeight:70,width:"100%",...r,children:[(0,i.jsx)(s.Z,{alignItems:"center",borderBottom:"1px solid ".concat(o.action.disabled),justifyContent:"center",padding:.5,children:(0,i.jsxs)(a.Z,{variant:"caption",children:[l," (",null==t?void 0:t.length,"명)"]})}),(0,i.jsx)(s.Z,{overflow:"auto",children:null==t?void 0:t.map(e=>(0,i.jsx)(h,{interactable:c,name:n,unit:e},"OrganizationSelectItem-".concat(e.id)))})]})},p=t(1901),j=t(1519),g=t(413),Z=t(1955),f=t(4957),b=t(1953),v=t(4225),w=t(2135);function k(e){let{unit:n,...t}=e,{palette:o}=(0,x.Z)(),l=(0,u.Gc)(),h=(0,d.useCallback)(e=>{let t=l.getValues(e);t.find(e=>{let{id:t}=e;return t===n.id})||l.setValue(e,[...t,n])},[n,l]);return(0,i.jsx)(b.Z,{"data-component":"OrganizationCard",sx:{"&:hover":{background:o.action.disabledBackground}},...t,children:(0,i.jsxs)(c.Z,{alignItems:"center",direction:"row",mobileProps:{direction:"column"},padding:"10px 25px",point:"md",spacing:2,width:"100%",children:[(0,i.jsxs)(s.Z,{alignItems:"center",direction:"row",flex:1,spacing:2,children:[(0,i.jsx)(r.Z,{height:40,userId:n.id,width:40}),(0,i.jsxs)(s.Z,{alignItems:"start",flex:1,children:[(0,i.jsxs)(s.Z,{alignItems:"center",direction:"row",spacing:.5,children:[n.leader?(0,i.jsx)(f.Z,{color:"warning"}):null,(0,i.jsx)(a.Z,{fontWeight:"bold",variant:"body2",children:n.name})]}),(0,i.jsx)(a.Z,{variant:"caption",children:n.orgName}),(0,i.jsx)(g.Z,{name:"unit",sx:{display:"none"},type:"radio",value:n.id})]})]}),(0,i.jsxs)(w.Z,{size:"small",children:[(0,i.jsx)(v.Z,{onClick:()=>h("to"),children:"결재"}),(0,i.jsx)(v.Z,{onClick:()=>h("cc"),children:"참조"}),(0,i.jsx)(v.Z,{onClick:()=>h("ccc"),children:"최종 참조"})]})]})})}var C=function(e){let{units:n,...t}=e,{palette:c}=(0,x.Z)();return(0,i.jsx)(s.Z,{"data-component":"OrganizationCardList",sx:{border:"1px solid ".concat(c.action.disabled),borderRadius:2,height:"100%",overflow:"auto",width:"100%"},...t,children:null==n?void 0:n.map(e=>(0,i.jsx)(k,{unit:e},e.id))})},I=t(5111),S=t(1596),z=t(9524),V=t(4707),y=function(e){let{meta:n,...t}=e,{palette:c}=(0,x.Z)(),r=(0,d.useMemo)(()=>{if(n){let e=n.reduce((e,n)=>({...e,[n.id]:n}),{});return n.forEach(n=>{if(n.group){let t=e[n.group];t&&(t.children||(t.children=[]),0===t.children.filter(e=>{let{id:t}=e;return n.id===t}).length&&t.children.push(n))}}),Object.values(e).filter(e=>{let{level:n}=e;return 1===n})}return[]},[n]),o=e=>(0,i.jsx)(z.Z,{collapseIcon:(0,i.jsx)(I.Z,{}),expandIcon:(0,i.jsx)(S.Z,{}),label:(0,i.jsx)(a.Z,{fontSize:"0.8rem",children:e.name}),nodeId:e.id,children:e.children?e.children.map(e=>o(e)):null},e.id);return(0,i.jsx)(V.Z,{"data-component":"OrganizationTree",sx:{border:"1px solid ".concat(c.action.disabled),borderRadius:2,height:"100%",overflow:"auto",padding:2,width:"100%"},...t,children:r.map(e=>o(e))})},O=t(2761),P=t(9041),W=function(){var e;let n=(0,u.Gc)(),{data:t}=Z.Z.useGetOrganization(),r=(0,d.useCallback)(()=>{var e,i;let c=n.watch("search");return c&&c.length>1?null==t?void 0:null===(i=t.body)||void 0===i?void 0:i.organizationUnit.filter(e=>{let{name:n,orgName:t}=e;return n.includes(c)||t.includes(c)}):null==t?void 0:null===(e=t.body)||void 0===e?void 0:e.organizationUnit.filter(e=>{let{orgId:t}=e;return t===n.watch("meta")})},[t,n]);return(0,i.jsxs)(s.Z,{height:"100%",spacing:2,children:[(0,i.jsx)(b.Z,{width:"100%",children:(0,i.jsx)(g.Z,{helperText:"두 글자 이상의 키워드 입력 (이름, 부서)",label:"검색",name:"search",size:"small",InputProps:{startAdornment:(0,i.jsx)(P.Z,{position:"start",children:(0,i.jsx)(O.Z,{})})},fullWidth:!0})}),(0,i.jsxs)(c.Z,{direction:"row",flex:1,mobileProps:{direction:"column",overflow:void 0},overflow:"auto",point:"md",spacing:4,children:[(0,i.jsx)(c.Z,{maxWidth:230,point:"md",width:"100%",mobileProps:{height:150,maxWidth:"100%"},children:(0,i.jsx)(y,{defaultExpanded:["RS0000"],meta:null==t?void 0:null===(e=t.body)||void 0===e?void 0:e.organizationMeta,selected:"RS0000",onNodeSelect(e,t){n.resetField("unit"),n.setValue("meta",t)}})}),(0,i.jsx)(c.Z,{flex:1,mobileProps:{flex:void 0,height:250},point:"md",children:(0,i.jsx)(C,{units:r()})}),(0,i.jsxs)(c.Z,{direction:"column",maxWidth:180,point:"md",spacing:4,width:"100%",mobileProps:{height:350,maxWidth:void 0},children:[(0,i.jsx)(m,{name:"to",units:n.watch("to"),interactable:!0}),(0,i.jsx)(m,{name:"cc",units:n.watch("cc"),interactable:!0}),(0,i.jsx)(m,{name:"ccc",units:n.watch("ccc"),interactable:!0})]})]})]})},G=function(e){let{to:n,cc:t,ccc:c,...r}=e,o=(0,u.Gc)(),l=(0,u.cI)({defaultValues:{cc:t,ccc:c,to:n}});(0,d.useEffect)(()=>{r.open&&(l.setValue("to",n),l.setValue("cc",t),l.setValue("ccc",c))},[r.open,l]);let s=(0,d.useCallback)(e=>{o.setValue("to",e.to),o.setValue("cc",e.cc),o.setValue("ccc",e.ccc),r.onClose&&r.onClose({},"backdropClick")},[o]),a=()=>{l.handleSubmit(s)()};return(0,i.jsx)(j.Z,{confirm:{onClick:a},"data-component":"OrganizationModal",maxWidth:"lg",title:"조직도",type:"info",fullWidth:!0,...r,children:(0,i.jsx)(p.Z,{form:l,onSubmit:s,children:(0,i.jsx)(b.Z,{height:600,paddingTop:1,children:(0,i.jsx)(W,{})})})})},_=t(1715);function E(){let e=(0,u.Gc)(),[n,t]=(0,d.useState)(!1),r=(0,d.useCallback)(()=>{t(!0)},[t]),o=(0,d.useCallback)(()=>{t(!1)},[t]);return(0,i.jsxs)(s.Z,{spacing:2,children:[(0,i.jsx)(s.Z,{alignItems:"end",children:(0,i.jsx)(v.Z,{startIcon:(0,i.jsx)(_.Z,{}),variant:"outlined",onClick:r,children:"변경"})}),(0,i.jsxs)(c.Z,{direction:"row",mobileProps:{direction:"column"},point:"md",spacing:4,children:[(0,i.jsx)(m,{name:"to",units:e.watch("to")||[]}),(0,i.jsx)(m,{name:"cc",units:e.watch("cc")||[]}),(0,i.jsx)(m,{name:"ccc",units:e.watch("ccc")||[]})]}),(0,i.jsx)(G,{cc:e.watch("cc")||[],ccc:e.watch("ccc")||[],open:n,to:e.watch("to")||[],onClose:o})]})}},2608:function(e){e.exports={profile:"Profile_profile__vXYCP"}}}]);