"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[817],{8310:function(e,n,t){t.d(n,{Z:function(){return o}});var i=t(5893),r=t(4055),l=t(1163),o=function(e){let{children:n}=e,t=(0,l.useRouter)(),{data:o}=r.Z.useAuth({onSuccess(e){e||t.push("/login")}});return o?(0,i.jsx)(i.Fragment,{children:n}):null}},9113:function(e,n,t){t.d(n,{Z:function(){return q}});var i=t(5893),r=t(3108),l=t(3243),o=t(7324),s=t(4731),a=t(5084),u=t(1655),c=t(9144),d=function(e){let{user:n,onClick:t}=e;return(0,i.jsx)(c.Z,{alignItems:"center",color:"white","data-component":"UserCard",direction:"row",spacing:2,children:n?(0,i.jsx)(a.Z,{sx:{height:36,width:36},onClick:t,children:(0,i.jsx)(s.Z,{alt:null==n?void 0:n.name,src:null==n?void 0:n.picture,sx:{height:36,width:36}})}):(0,i.jsx)(a.Z,{children:(0,i.jsx)(u.Z,{height:36,variant:"circular",width:36})})})},h=t(1953),x=t(8346),j=t(4803),p=t(60),Z=t(9630),m=t(7294),g=function(e){let{user:n,list:t}=e,[r,l]=(0,m.useState)(null),o=(0,m.useCallback)(e=>{let{currentTarget:n}=e;l(e=>e?null:n)},[l]),s=(0,m.useCallback)(()=>{l(null)},[l]);return(0,i.jsxs)(h.Z,{"data-component":"UserMenuCard",children:[(0,i.jsx)(d,{user:n,onClick:o}),(0,i.jsx)(j.Z,{anchorEl:r,open:null!==r,sx:{marginTop:1},onClose:s,children:null==t?void 0:t.map((e,n)=>{let{icon:t,title:r,link:l}=e;return(0,i.jsx)(p.Z,{children:(0,i.jsx)(x.Z,{color:"inherit",href:l,underline:"none",children:(0,i.jsxs)(c.Z,{alignItems:"center",direction:"row",justifyContent:"center",spacing:2,children:[t,(0,i.jsx)(Z.Z,{children:r})]})})},n)})})]})},f=t(5573),k=t(3540),w=t(326),v=t(5050),C=t(562),b=t(784),y=function(e){let{user:n,onMenuClick:t}=e,r=[{icon:(0,i.jsx)(f.Z,{}),link:"",title:"마이페이지"},{icon:(0,i.jsx)(k.Z,{}),link:"/jader/logout",title:"로그아웃"}];return(0,i.jsx)(v.Z,{"data-component":"Header",position:"fixed",sx:{transition:"0.3s background-color",zIndex:1250},children:(0,i.jsx)(b.Z,{children:(0,i.jsxs)(c.Z,{alignItems:"center",color:"white",direction:"row",spacing:2,width:"100%",children:[(0,i.jsxs)(c.Z,{alignItems:"center",color:"white",direction:"row",flex:1,spacing:2,children:[(0,i.jsx)(C.Z,{color:"inherit",onClick:t,children:(0,i.jsx)(w.Z,{})}),(0,i.jsx)(o.Z,{borderRadius:2,height:32,width:32}),(0,i.jsx)(Z.Z,{fontWeight:"bold",variant:"h5",children:"JADER"})]}),(0,i.jsx)(g,{list:r,user:n})]})})})},I=t(6820),T=t(7213),U=t(9078),S=t(6646),P=function(){let{theme:e,setTheme:n}=(0,m.useContext)(I.f),t=(0,m.useCallback)(()=>{n&&n(e=>{let n={...e};return n.mode=(null==e?void 0:e.mode)==="light"?"dark":"light",(0,T.PZ)("jader","parameter",n),n})},[n]);return(0,i.jsx)(a.Z,{color:"inherit","data-component":"ThemeSwitch",onClick:t,children:(0,i.jsxs)(c.Z,{direction:"row",spacing:2,children:[(0,i.jsx)(S.Z,{htmlColor:(null==e?void 0:e.mode)==="light"?"orange":"grey"}),(0,i.jsx)(U.Z,{htmlColor:(null==e?void 0:e.mode)==="dark"?"yellow":"gainsboro"})]})})},R=t(2097),_=t(1225),A=t(4373),E=t(4631),Q=t(1664),D=t.n(Q),M=t(1163),W=function(e){let{list:n,...t}=e,r=(0,R.Z)(),{pathname:l}=(0,M.useRouter)(),s=(0,_.Z)(r.breakpoints.up("sm"));return(0,i.jsx)(E.ZP,{...t,"data-component":"Sidebar",children:(0,i.jsxs)(c.Z,{color:"grey",minWidth:256,paddingTop:s?"64px":"56px",children:[(0,i.jsx)(h.Z,{alignItems:"center",display:"flex",justifyContent:"center",padding:"30px 0px",children:(0,i.jsx)(o.Z,{height:64,width:64})}),(0,i.jsx)(A.Z,{sx:{marginBottom:"10px",marginTop:"10px"},variant:"middle"}),null==n?void 0:n.map((e,n)=>{let t=e.map((e,n)=>{let{icon:t,title:r,link:o,disabled:s}=e;return(0,i.jsx)(D(),{href:o||"#",children:(0,i.jsx)(a.Z,{color:l===o?"primary":"inherit",disabled:s,size:"large",startIcon:t,sx:{justifyContent:"initial",padding:"10px 25px",textAlign:"start"},fullWidth:!0,children:r})},n)});return t.push((0,i.jsx)(A.Z,{sx:{marginBottom:"10px",marginTop:"10px"},variant:"middle"},"sub-".concat(n))),t}),(0,i.jsx)(P,{})]})})},z=t(3147),B=t(5771),F=t(6638),G=t(5433),J=t(8570),N=t(9317),V=t(4480),q=function(e){let{children:n}=e,t=(0,R.Z)(),o=(0,_.Z)(t.breakpoints.up("sm")),[s,a]=(0,m.useState)(!1),u=(0,V.sJ)(r.ax),{data:c}=l.Z.useGetUser({enabled:void 0!==u}),d=(0,m.useCallback)(()=>{a(e=>!e)},[a]),x=(0,m.useCallback)(()=>{a(!1)},[a]),j=[[{icon:(0,i.jsx)(F.Z,{}),link:"/",title:"홈"},{icon:(0,i.jsx)(z.Z,{}),link:"/calendar",title:"근태 현황"}],[{icon:(0,i.jsx)(B.Z,{}),link:"/form/worktime",title:"출퇴근시각 등록 요청"},{icon:(0,i.jsx)(J.Z,{}),link:"/form/overtime",title:"연장근무 신청"},{icon:(0,i.jsx)(G.Z,{}),link:"/form/homeworking",title:"재택근무 변경/취소 신청"}],[{icon:(0,i.jsx)(f.Z,{}),link:"/mypage",title:"마이페이지"}],[{icon:(0,i.jsx)(N.Z,{}),link:"/about",title:"둘러보기"}]];return(0,i.jsxs)(h.Z,{component:"section","data-component":"PageTemplate",paddingTop:o?"64px":"56px",children:[(0,i.jsx)(y,{user:null==c?void 0:c.body,onMenuClick:d}),(0,i.jsx)(W,{list:j,open:s,onClose:x}),n]})}},4055:function(e,n,t){var i=t(3108),r=t(7213),l=t(3243),o=t(8767),s=t(4480);n.Z={useAuth:function(e){let[n,t]=(0,s.FV)(i.ax),{data:a,isSuccess:u}=l.Z.useCheck();return(0,o.useQuery)(["custom","auth"],async()=>{let e=await (0,r.qe)("jader","token","refresh");if(n||e){var i,l,o;let s=null==a?void 0:null===(i=a.body)||void 0===i?void 0:i.access,u=null==a?void 0:null===(l=a.body)||void 0===l?void 0:l.refresh,c=new Date;return s&&t(s),u&&await (0,r.PZ)("jader","token",{id:"refresh",timestamp:c,token:u}),null==a?void 0:null===(o=a.body)||void 0===o?void 0:o.valid}return!1},{enabled:u,...e})},useLogout:function(e){let n=(0,s.Zl)(i.ax);return(0,o.useQuery)(["custom","logout"],async()=>{n(void 0),await (0,r.PS)("jader","token")},{...e})}}},3243:function(e,n,t){var i=t(3892),r=t(3751),l=t(8767);n.Z={useCheck:function(e){let n=(0,i.m)();return(0,l.useQuery)(["user","check"],async()=>{let e=await new r.ii(await n).getValidUser();return e},e)},useDelete:function(e){let n=(0,i.m)();return(0,l.useMutation)(["user","delete"],async()=>(await new r.ii(await n)._deleteRaw(),!0),e)},useGetUser:function(e){let n=(0,i.m)();return(0,l.useQuery)(["user","getUser"],async()=>{let e=await new r.ii(await n).getUser();return e},e)}}}}]);