(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[131],{82468:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/log",function(){return n(39903)}])},78032:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(91874),r=n(74813),o=function(e){let{form:t,onSubmit:n,...o}=e,s=(0,r.cI)(),a=t||s;return(0,i.jsx)(r.RV,{...a,children:(0,i.jsx)("form",{"data-component":"Form",onSubmit:a.handleSubmit(n),...o})})}},20498:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n(91874),r=n(37309),o=n(30686),s=n(32261),a=n(87959);function c(e){let{name:t="BoxPaper",icon:n,title:c,sx:l,children:d,...u}=e;return(0,i.jsx)(a.E.div,{"data-component":t,transition:{duration:.5},variants:{init:{opacity:0,translateY:50,width:"100%"},show:{opacity:1,translateY:0}},children:(0,i.jsx)(r.Z,{sx:{width:"100%",...l},...u,children:(0,i.jsxs)(o.Z,{borderRadius:5,padding:4,spacing:4,width:"100%",children:[(0,i.jsx)(o.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",width:"100%",children:(0,i.jsxs)(o.Z,{alignItems:"center",direction:"row",spacing:1,children:[n,(0,i.jsx)(s.Z,{fontWeight:"bold",variant:"h6",children:c})]})}),d]})})})}},49498:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(91874),r=n(118),o=n(16521),s=n(78344),a=n(98453),c=n(74813),l=function(e){var t,n;let{name:l,error:d,helperText:u,...h}=e,{formState:x,control:m}=(0,c.Gc)();return(0,i.jsxs)(r.Z,{"data-component":"FormSelect",fullWidth:h.fullWidth,children:[(0,i.jsx)(s.Z,{error:d||void 0!==x.errors[l],required:!0,children:h.label}),(0,i.jsx)(c.Qr,{control:m,name:l,render(e){let{field:t}=e;return(0,i.jsx)(a.Z,{...t,...h})}}),(0,i.jsx)(o.Z,{error:d||void 0!==x.errors[l],children:(null===(t=x.errors[l])||void 0===t?void 0:null===(n=t.message)||void 0===n?void 0:n.toString())||u})]})}},91473:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(91874),r=n(81337),o=n(30686),s=n(87959),a=function(e){let{name:t="TemplateStack",innerStackProps:n,children:a,...c}=e;return(0,i.jsx)(s.E.div,{animate:"show",initial:"init",style:{width:"100%"},transition:{staggerChildren:.3},children:(0,i.jsx)(o.Z,{alignItems:"center",component:"article","data-component":t,padding:2,...c,children:(0,i.jsx)(r.Z,{...n,children:a})})})}},6938:function(e,t,n){"use strict";var i=n(74891);t.Z=i.Z},39903:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var i=n(91874),r=n(38861),o=n(91473),s=n(78032),a=n(86183),c=n(74699),l=n(56462),d=n(30005),u={useGetAllLogs:function(e,t){let n=(0,c.m)();return(0,d.useInfiniteQuery)(["log","getAllLogs",e],async()=>{let t=await new l.e(await n).getAllLogs(e);return t},{getNextPageParam(e){let{body:t}=e;return(null==t?void 0:t.last)?void 0:((null==t?void 0:t.number)||0)+1},getPreviousPageParam(e){let{body:t}=e;return(null==t?void 0:t.first)?void 0:((null==t?void 0:t.number)||0)-1},...t})}},h=n(20498),x=n(49498),m=n(8543),g=n(24131),j=n(30686),p=function(e){let{count:t,onPageChange:n,children:r,...o}=e;return(0,i.jsxs)(j.Z,{alignItems:"end","data-component":"PageBox",spacing:2,...o,children:[(0,i.jsx)(m.Z,{width:"100%",children:r}),(0,i.jsx)(g.Z,{color:"primary",count:t,size:"small",showFirstButton:!0,showLastButton:!0,onChange:n})]})},Z=n(20300),f=n(8530),v=n(19385),w=n(19208),b=n(7433),y=n(25706),C=n(82842),W=n(32261),_=n(39953),k=n(74813),I=function(){var e;let t=(0,k.cI)({defaultValues:{page:0,size:100}}),{palette:{grey:n,background:r}}=(0,v.Z)(),[o,c]=(0,_.useState)(),{data:l}=u.useGetAllLogs({page:t.watch("page"),size:t.watch("size"),sort:["timestamp,desc"]},{cacheTime:0,refetchInterval:3e4,staleTime:0}),d=(0,_.useCallback)((e,n)=>{t.setValue("page",n-1)},[t]),g=(0,_.useMemo)(()=>{let e=(0,a.K0)();return"".concat(e.year,"-").concat(e.month.text,"-").concat(e.day.text," (").concat(e.weekday.text,") ").concat(e.hour.text,":").concat(e.minute.text,":").concat(e.second.text)},[l]),I=(0,_.useCallback)(e=>{let t=(0,a.K0)(e);return"".concat(t.year,"-").concat(t.month.text,"-").concat(t.day.text," (").concat(t.weekday.text,") ").concat(t.hour.text,":").concat(t.minute.text,":").concat(t.second.text)},[]);return(0,_.useEffect)(()=>{t.setValue("page",0)},[t.watch("size")]),(0,i.jsxs)(h.Z,{icon:(0,i.jsx)(f.Z,{color:"error"}),name:"LogBox",title:"로그",children:[(0,i.jsx)(j.Z,{spacing:1,children:(0,i.jsx)(p,{count:(null===(e=null==l?void 0:l.pages[0].body)||void 0===e?void 0:e.totalPages)||0,onPageChange:d,children:(0,i.jsx)(s.Z,{form:t,onSubmit(){},children:(0,i.jsxs)(j.Z,{spacing:1,children:[(0,i.jsxs)(j.Z,{alignItems:"end",direction:"row",justifyContent:"space-between",children:[(0,i.jsxs)(W.Z,{textAlign:"end",variant:"caption",children:["\uD83D\uDD56 ",g," 기준"]}),(0,i.jsx)(x.Z,{label:"사이즈",name:"size",size:"small",startAdornment:(0,i.jsx)(y.Z,{position:"start",children:(0,i.jsx)(Z.Z,{})}),required:!0,children:[10,30,50,100,300,500,1e3,3e3,5e3].map(e=>(0,i.jsx)(C.Z,{value:e,children:e},"size-".concat(e)))})]}),(0,i.jsx)(m.Z,{border:"1px solid",borderColor:n[400],borderRadius:2,height:"100%",overflow:"auto",width:"100%",children:null==l?void 0:l.pages.flatMap(e=>{var t;return null===(t=e.body)||void 0===t?void 0:t.content}).map(e=>e?(0,i.jsx)(w.Z,{sx:{backgroundColor:(null==o?void 0:o.idx)===e.idx?r.default:void 0,minWidth:"100%"},onClick:()=>c(e),children:(0,i.jsxs)(j.Z,{alignItems:"center",direction:"row",padding:1,spacing:2,width:"100%",children:[(0,i.jsx)(W.Z,{minWidth:40,textAlign:"center",variant:"caption",width:30,children:e.idx}),(0,i.jsx)(b.Z,{color:e.success?"success":"error",label:e.code,size:"small"}),(0,i.jsx)(W.Z,{minWidth:100,variant:"caption",children:e.id}),(0,i.jsx)(W.Z,{minWidth:100,variant:"caption",children:e.name}),(0,i.jsx)(W.Z,{flex:1,minWidth:300,textAlign:"start",variant:"caption",children:e.content}),(0,i.jsx)(W.Z,{minWidth:200,variant:"caption",children:I(e.timestamp)})]})},e.idx):null)})]})})})}),!o||(null==o?void 0:o.success)?null:(0,i.jsxs)(j.Z,{spacing:2,children:[(0,i.jsxs)(j.Z,{alignItems:"center",direction:"row",spacing:2,children:[(0,i.jsx)(b.Z,{color:(null==o?void 0:o.success)?"success":"error",label:null==o?void 0:o.code,size:"small"}),(0,i.jsxs)(W.Z,{fontWeight:"bold",children:["no. ",null==o?void 0:o.idx]})]}),(0,i.jsx)(W.Z,{fontWeight:"bold",children:"파라미터"}),(0,i.jsx)(m.Z,{bgcolor:r.default,borderRadius:2,padding:2,sx:{userSelect:"text !important"},children:null==o?void 0:o.param}),(0,i.jsx)(W.Z,{fontWeight:"bold",children:"트레이스"}),(0,i.jsx)(m.Z,{bgcolor:r.default,borderRadius:2,padding:2,sx:{userSelect:"text !important"},children:null==o?void 0:o.trace})]})]})},P=function(){return(0,i.jsx)(o.Z,{name:"LogTemplate",children:(0,i.jsx)(I,{})})},z=n(6938);function S(){return(0,i.jsxs)(z.Z,{mode:"admin",children:[(0,i.jsx)(r.Z,{title:"로그",url:"/admin/log"}),(0,i.jsx)(P,{})]})}}},function(e){e.O(0,[47,384,309,291,813,233,901,891,774,888,179],function(){return e(e.s=82468)}),_N_E=e.O()}]);