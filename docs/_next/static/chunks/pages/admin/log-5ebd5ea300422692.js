(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[131],{2468:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/log",function(){return n(9903)}])},8032:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(1874),r=n(4813),s=function(e){let{form:t,onSubmit:n,...s}=e,o=(0,r.cI)(),c=t||o;return(0,i.jsx)(r.RV,{...c,children:(0,i.jsx)("form",{"data-component":"Form",onSubmit:c.handleSubmit(n),...s})})}},498:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(1874),r=n(7309),s=n(686),o=n(2261),c=n(7959);function a(e){let{name:t="BoxPaper",icon:n,title:a,sx:l,children:d,...u}=e;return(0,i.jsx)(c.E.div,{"data-component":t,transition:{duration:.5},variants:{init:{opacity:0,translateY:50,width:"100%"},show:{opacity:1,translateY:0}},children:(0,i.jsx)(r.Z,{sx:{width:"100%",...l},...u,children:(0,i.jsxs)(s.Z,{borderRadius:5,padding:4,spacing:4,width:"100%",children:[(0,i.jsx)(s.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",width:"100%",children:(0,i.jsxs)(s.Z,{alignItems:"center",direction:"row",spacing:1,children:[n,(0,i.jsx)(o.Z,{fontWeight:"bold",variant:"h6",children:a})]})}),d]})})})}},9498:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(1874),r=n(118),s=n(6521),o=n(8344),c=n(8453),a=n(4813),l=function(e){var t,n;let{name:l,error:d,helperText:u,...h}=e,{formState:x,control:m}=(0,a.Gc)();return(0,i.jsxs)(r.Z,{"data-component":"FormSelect",fullWidth:h.fullWidth,children:[(0,i.jsx)(o.Z,{error:d||void 0!==x.errors[l],required:!0,children:h.label}),(0,i.jsx)(a.Qr,{control:m,name:l,render(e){let{field:t}=e;return(0,i.jsx)(c.Z,{...t,...h})}}),(0,i.jsx)(s.Z,{error:d||void 0!==x.errors[l],children:(null===(t=x.errors[l])||void 0===t?void 0:null===(n=t.message)||void 0===n?void 0:n.toString())||u})]})}},1473:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n(1874),r=n(1337),s=n(686),o=n(7959),c=function(e){let{name:t="TemplateStack",innerStackProps:n,children:c,...a}=e;return(0,i.jsx)(o.E.div,{animate:"show",initial:"init",style:{width:"100%"},transition:{staggerChildren:.3},children:(0,i.jsx)(s.Z,{alignItems:"center",component:"article","data-component":t,padding:2,...a,children:(0,i.jsx)(r.Z,{...n,children:c})})})}},6938:function(e,t,n){"use strict";var i=n(4891);t.Z=i.Z},9903:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var i=n(1874),r=n(8861),s=n(1473),o=n(8032),c=n(6183),a=n(4699),l=n(6462),d=n(5),u={useGetAllLogs:function(e,t){let n=(0,a.m)();return(0,d.useInfiniteQuery)(["log","getAllLogs",e],async()=>{let t=await new l.e(await n).getAllLogs(e);return t},{getNextPageParam(e){let{last:t,number:n=0}=e;return t?void 0:n+1},getPreviousPageParam(e){let{first:t,number:n=0}=e;return t?void 0:n-1},...t})}},h=n(498),x=n(9498),m=n(8543),g=n(4131),j=n(686),p=function(e){let{count:t,onPageChange:n,children:r,...s}=e;return(0,i.jsxs)(j.Z,{alignItems:"end","data-component":"PageBox",spacing:2,...s,children:[(0,i.jsx)(m.Z,{width:"100%",children:r}),(0,i.jsx)(g.Z,{color:"primary",count:t,size:"small",showFirstButton:!0,showLastButton:!0,onChange:n})]})},Z=n(300),f=n(8530),v=n(9385),w=n(9208),b=n(7433),y=n(5706),C=n(2842),W=n(2261),_=n(9953),k=n(4813),I=function(){let e=(0,k.cI)({defaultValues:{page:0,size:100}}),{palette:{grey:t,background:n}}=(0,v.Z)(),[r,s]=(0,_.useState)(),{data:a}=u.useGetAllLogs({page:e.watch("page"),size:e.watch("size"),sort:["timestamp,desc"]},{cacheTime:0,refetchInterval:3e4,staleTime:0}),l=(0,_.useCallback)((t,n)=>{e.setValue("page",n-1)},[e]),d=(0,_.useMemo)(()=>{let e=(0,c.K0)();return"".concat(e.year,"-").concat(e.month.text,"-").concat(e.day.text," (").concat(e.weekday.text,") ").concat(e.hour.text,":").concat(e.minute.text,":").concat(e.second.text)},[a]),g=(0,_.useCallback)(e=>{let t=(0,c.K0)(e);return"".concat(t.year,"-").concat(t.month.text,"-").concat(t.day.text," (").concat(t.weekday.text,") ").concat(t.hour.text,":").concat(t.minute.text,":").concat(t.second.text)},[]);return(0,_.useEffect)(()=>{e.setValue("page",0)},[e.watch("size")]),(0,i.jsxs)(h.Z,{icon:(0,i.jsx)(f.Z,{color:"error"}),title:"로그",children:[(0,i.jsx)(j.Z,{spacing:1,children:(0,i.jsx)(p,{count:(null==a?void 0:a.pages[0].totalPages)||0,onPageChange:l,children:(0,i.jsx)(o.Z,{form:e,onSubmit(){},children:(0,i.jsxs)(j.Z,{spacing:1,children:[(0,i.jsxs)(j.Z,{alignItems:"end",direction:"row",justifyContent:"space-between",children:[(0,i.jsxs)(W.Z,{textAlign:"end",variant:"caption",children:["\uD83D\uDD56 ",d," 기준"]}),(0,i.jsx)(x.Z,{label:"사이즈",name:"size",size:"small",startAdornment:(0,i.jsx)(y.Z,{position:"start",children:(0,i.jsx)(Z.Z,{})}),required:!0,children:[10,30,50,100,300,500,1e3,3e3,5e3].map(e=>(0,i.jsx)(C.Z,{value:e,children:e},"size-".concat(e)))})]}),(0,i.jsx)(m.Z,{border:"1px solid",borderColor:t[400],borderRadius:2,height:"100%",overflow:"auto",width:"100%",children:null==a?void 0:a.pages.flatMap(e=>e.content).map(e=>e?(0,i.jsx)(w.Z,{sx:{backgroundColor:(null==r?void 0:r.idx)===e.idx?n.default:void 0,minWidth:"100%"},onClick:()=>s(e),children:(0,i.jsxs)(j.Z,{alignItems:"center",direction:"row",padding:1,spacing:2,width:"100%",children:[(0,i.jsx)(W.Z,{minWidth:40,textAlign:"center",variant:"caption",width:30,children:e.idx}),(0,i.jsx)(b.Z,{color:e.success?"success":"error",label:e.code,size:"small"}),(0,i.jsx)(W.Z,{minWidth:100,variant:"caption",children:e.id}),(0,i.jsx)(W.Z,{minWidth:100,variant:"caption",children:e.name}),(0,i.jsx)(W.Z,{flex:1,minWidth:300,textAlign:"start",variant:"caption",children:e.content}),(0,i.jsx)(W.Z,{minWidth:200,variant:"caption",children:g(e.timestamp)})]})},e.idx):null)})]})})})}),!r||(null==r?void 0:r.success)?null:(0,i.jsxs)(j.Z,{spacing:2,children:[(0,i.jsxs)(j.Z,{alignItems:"center",direction:"row",spacing:2,children:[(0,i.jsx)(b.Z,{color:(null==r?void 0:r.success)?"success":"error",label:null==r?void 0:r.code,size:"small"}),(0,i.jsxs)(W.Z,{fontWeight:"bold",children:["no. ",null==r?void 0:r.idx]})]}),(0,i.jsx)(W.Z,{fontWeight:"bold",children:"파라미터"}),(0,i.jsx)(m.Z,{bgcolor:n.default,borderRadius:2,padding:2,sx:{userSelect:"text !important"},children:null==r?void 0:r.param}),(0,i.jsx)(W.Z,{fontWeight:"bold",children:"트레이스"}),(0,i.jsx)(m.Z,{bgcolor:n.default,borderRadius:2,padding:2,sx:{userSelect:"text !important"},children:null==r?void 0:r.trace})]})]})},P=function(){return(0,i.jsx)(s.Z,{name:"LogTemplate",children:(0,i.jsx)(I,{})})},z=n(6938);function S(){return(0,i.jsxs)(z.Z,{mode:"admin",children:[(0,i.jsx)(r.Z,{title:"로그",url:"/admin/log"}),(0,i.jsx)(P,{})]})}}},function(e){e.O(0,[47,384,248,291,813,233,901,891,774,888,179],function(){return e(e.s=2468)}),_N_E=e.O()}]);