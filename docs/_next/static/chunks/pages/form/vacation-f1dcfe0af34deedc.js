(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[858],{75761:function(e,t,a){"use strict";var r=a(42819);t.Z=void 0;var n=r(a(80531)),o=a(91874),l=(0,n.default)([(0,o.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},"0"),(0,o.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime");t.Z=l},7693:function(e,t,a){"use strict";var r=a(42819);t.Z=void 0;var n=r(a(80531)),o=a(91874),l=(0,n.default)((0,o.jsx)("path",{d:"m22 5.72-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39 6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12.5 8H11v6l4.75 2.85.75-1.23-4-2.37V8zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"}),"Alarm");t.Z=l},76252:function(e,t,a){"use strict";var r=a(42819);t.Z=void 0;var n=r(a(80531)),o=a(91874),l=(0,n.default)((0,o.jsx)("path",{d:"M7.88 3.39 6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm1-11h-2v3H8v2h3v3h2v-3h3v-2h-3V9z"}),"AlarmAdd");t.Z=l},81545:function(e,t,a){"use strict";var r=a(42819);t.Z=void 0;var n=r(a(80531)),o=a(91874),l=(0,n.default)((0,o.jsx)("path",{d:"m22 5.72-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39 6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm-1.46-5.47L8.41 12.4l-1.06 1.06 3.18 3.18 6-6-1.06-1.06-4.93 4.95z"}),"AlarmOn");t.Z=l},422:function(e,t,a){"use strict";var r=a(42819);t.Z=void 0;var n=r(a(80531)),o=a(91874),l=(0,n.default)((0,o.jsx)("path",{d:"M14 6v15H3v-2h2V3h9v1h5v15h2v2h-4V6h-3zm-4 5v2h2v-2h-2z"}),"MeetingRoom");t.Z=l},45152:function(e,t,a){"use strict";a.d(t,{Z:function(){return w}});var r=a(32060),n=a(40767),o=a(39953),l=a(64923),i=a(52102),s=a(45475),c=a(32261),d=a(97046),u=a(51108),h=a(76793),m=a(25528),p=a(3176);function v(e){return(0,p.Z)("MuiFormControlLabel",e)}let Z=(0,m.Z)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error"]);var x=a(83602),f=a(91874);let g=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","value"],b=e=>{let{classes:t,disabled:a,labelPlacement:r,error:n}=e,o={root:["root",a&&"disabled",`labelPlacement${(0,d.Z)(r)}`,n&&"error"],label:["label",a&&"disabled"]};return(0,i.Z)(o,v,t)},j=(0,u.ZP)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver(e,t){let{ownerState:a}=e;return[{[`& .${Z.label}`]:t.label},t.root,t[`labelPlacement${(0,d.Z)(a.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>(0,n.Z)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Z.disabled}`]:{cursor:"default"}},"start"===t.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===t.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===t.labelPlacement&&{flexDirection:"column",marginLeft:16},{[`& .${Z.label}`]:{[`&.${Z.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),y=o.forwardRef(function(e,t){let a=(0,h.Z)({props:e,name:"MuiFormControlLabel"}),{className:i,componentsProps:d={},control:u,disabled:m,disableTypography:p,label:v,labelPlacement:Z="end"}=a,y=(0,r.Z)(a,g),w=(0,s.Z)(),k=m;void 0===k&&void 0!==u.props.disabled&&(k=u.props.disabled),void 0===k&&w&&(k=w.disabled);let T={disabled:k};["checked","name","onChange","value","inputRef"].forEach(e=>{void 0===u.props[e]&&void 0!==a[e]&&(T[e]=a[e])});let V=(0,x.Z)({props:a,muiFormControl:w,states:["error"]}),z=(0,n.Z)({},a,{disabled:k,labelPlacement:Z,error:V.error}),C=b(z),S=v;return null==S||S.type===c.Z||p||(S=(0,f.jsx)(c.Z,(0,n.Z)({component:"span",className:C.label},d.typography,{children:S}))),(0,f.jsxs)(j,(0,n.Z)({className:(0,l.Z)(C.root,i),ownerState:z,ref:t},y,{children:[o.cloneElement(u,T),S]}))});var w=y},16803:function(e,t,a){"use strict";a.d(t,{Z:function(){return b}});var r=a(32060),n=a(40767),o=a(39953),l=a(64923),i=a(52102),s=a(51108),c=a(76793),d=a(25528),u=a(3176);function h(e){return(0,u.Z)("MuiFormGroup",e)}(0,d.Z)("MuiFormGroup",["root","row","error"]);var m=a(45475),p=a(83602),v=a(91874);let Z=["className","row"],x=e=>{let{classes:t,row:a,error:r}=e;return(0,i.Z)({root:["root",a&&"row",r&&"error"]},h,t)},f=(0,s.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver(e,t){let{ownerState:a}=e;return[t.root,a.row&&t.row]}})(({ownerState:e})=>(0,n.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),g=o.forwardRef(function(e,t){let a=(0,c.Z)({props:e,name:"MuiFormGroup"}),{className:o,row:i=!1}=a,s=(0,r.Z)(a,Z),d=(0,m.Z)(),u=(0,p.Z)({props:a,muiFormControl:d,states:["error"]}),h=(0,n.Z)({},a,{row:i,error:u.error}),g=x(h);return(0,v.jsx)(f,(0,n.Z)({className:(0,l.Z)(g.root,o),ownerState:h,ref:t},s))});var b=g},75923:function(e,t,a){"use strict";a.d(t,{Z:function(){return y}});var r=a(32060),n=a(40767),o=a(39953),l=a(64923),i=a(52102),s=a(97046),c=a(51108),d=a(78437),u=a(45475),h=a(19208),m=a(25528),p=a(3176);function v(e){return(0,p.Z)("PrivateSwitchBase",e)}(0,m.Z)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var Z=a(91874);let x=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],f=e=>{let{classes:t,checked:a,disabled:r,edge:n}=e,o={root:["root",a&&"checked",r&&"disabled",n&&`edge${(0,s.Z)(n)}`],input:["input"]};return(0,i.Z)(o,v,t)},g=(0,c.ZP)(h.Z)(({ownerState:e})=>(0,n.Z)({padding:9,borderRadius:"50%"},"start"===e.edge&&{marginLeft:"small"===e.size?-3:-12},"end"===e.edge&&{marginRight:"small"===e.size?-3:-12})),b=(0,c.ZP)("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),j=o.forwardRef(function(e,t){let{autoFocus:a,checked:o,checkedIcon:i,className:s,defaultChecked:c,disabled:h,disableFocusRipple:m=!1,edge:p=!1,icon:v,id:j,inputProps:y,inputRef:w,name:k,onBlur:T,onChange:V,onFocus:z,readOnly:C,required:S,tabIndex:P,type:$,value:M}=e,I=(0,r.Z)(e,x),[R,D]=(0,d.Z)({controlled:o,default:Boolean(c),name:"SwitchBase",state:"checked"}),A=(0,u.Z)(),B=e=>{z&&z(e),A&&A.onFocus&&A.onFocus(e)},F=e=>{T&&T(e),A&&A.onBlur&&A.onBlur(e)},N=e=>{if(e.nativeEvent.defaultPrevented)return;let t=e.target.checked;D(t),V&&V(e,t)},q=h;A&&void 0===q&&(q=A.disabled);let L=(0,n.Z)({},e,{checked:R,disabled:q,disableFocusRipple:m,edge:p}),E=f(L);return(0,Z.jsxs)(g,(0,n.Z)({component:"span",className:(0,l.Z)(E.root,s),centerRipple:!0,focusRipple:!m,disabled:q,tabIndex:null,role:void 0,onFocus:B,onBlur:F,ownerState:L,ref:t},I,{children:[(0,Z.jsx)(b,(0,n.Z)({autoFocus:a,checked:o,defaultChecked:c,className:E.input,disabled:q,id:("checkbox"===$||"radio"===$)&&j,name:k,onChange:N,readOnly:C,ref:w,required:S,ownerState:L,tabIndex:P,type:$},"checkbox"===$&&void 0===M?{}:{value:M},y)),R?i:v]}))});var y=j},95980:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/form/vacation",function(){return a(71415)}])},79591:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var r=a(91874),n=a(99445),o=a(17972),l=function(e){let{onChange:t,options:a,...l}=e,i=e=>{if(o.Sz.dateTimeWrite.test(e.currentTarget.value)){let a=o.Sz.dateTimeWrite.exec(e.currentTarget.value);a&&(e.currentTarget.value="".concat(a[1],":").concat(a[2]))}else o.Sz.dateTimeDelete.test(e.currentTarget.value)&&(e.currentTarget.value=e.currentTarget.value.replace(":",""));t&&t(e)};return(0,r.jsx)(n.Z,{inputProps:{inputMode:"numeric"},options:{onChange:i,...a},...l})}},49498:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var r=a(91874),n=a(118),o=a(16521),l=a(78344),i=a(98453),s=a(74813),c=function(e){var t,a;let{name:c,error:d,helperText:u,...h}=e,{formState:m,control:p}=(0,s.Gc)();return(0,r.jsxs)(n.Z,{"data-component":"FormSelect",fullWidth:h.fullWidth,children:[(0,r.jsx)(l.Z,{error:d||void 0!==m.errors[c],required:!0,children:h.label}),(0,r.jsx)(s.Qr,{control:p,name:c,render(e){let{field:t}=e;return(0,r.jsx)(i.Z,{...t,...h})}}),(0,r.jsx)(o.Z,{error:d||void 0!==m.errors[c],children:(null===(t=m.errors[c])||void 0===t?void 0:null===(a=t.message)||void 0===a?void 0:a.toString())||u})]})}},42142:function(e,t,a){"use strict";var r=a(98034);t.Z=r.Z},71415:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ef}});var r=a(91874),n=a(38861),o=a(6938),l=a(91473),i=a(78032),s=a(81004),c=a(99445),d=a(15048),u=a(86183),h=a(17972),m=a(69799),p=a(20498),v=a(30458),Z=a(49498),x=a(42142),f=a(32060),g=a(40767),b=a(39953),j=a(64923),y=a(52102),w=a(32991),k=a(97046),T=a(75923),V=a(76793),z=a(51108),C=a(25528),S=a(3176);function P(e){return(0,S.Z)("MuiSwitch",e)}let $=(0,C.Z)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),M=["className","color","edge","size","sx"],I=e=>{let{classes:t,edge:a,size:r,color:n,checked:o,disabled:l}=e,i={root:["root",a&&`edge${(0,k.Z)(a)}`,`size${(0,k.Z)(r)}`],switchBase:["switchBase",`color${(0,k.Z)(n)}`,o&&"checked",l&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},s=(0,y.Z)(i,P,t);return(0,g.Z)({},t,s)},R=(0,z.ZP)("span",{name:"MuiSwitch",slot:"Root",overridesResolver(e,t){let{ownerState:a}=e;return[t.root,a.edge&&t[`edge${(0,k.Z)(a.edge)}`],t[`size${(0,k.Z)(a.size)}`]]}})(({ownerState:e})=>(0,g.Z)({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},"start"===e.edge&&{marginLeft:-8},"end"===e.edge&&{marginRight:-8},"small"===e.size&&{width:40,height:24,padding:7,[`& .${$.thumb}`]:{width:16,height:16},[`& .${$.switchBase}`]:{padding:4,[`&.${$.checked}`]:{transform:"translateX(16px)"}}})),D=(0,z.ZP)(T.Z,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver(e,t){let{ownerState:a}=e;return[t.switchBase,{[`& .${$.input}`]:t.input},"default"!==a.color&&t[`color${(0,k.Z)(a.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${"light"===e.palette.mode?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${$.checked}`]:{transform:"translateX(20px)"},[`&.${$.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${$.checked} + .${$.track}`]:{opacity:.5},[`&.${$.disabled} + .${$.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${"light"===e.palette.mode?.12:.2}`},[`& .${$.input}`]:{left:"-100%",width:"300%"}}),({theme:e,ownerState:t})=>(0,g.Z)({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,w.Fq)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==t.color&&{[`&.${$.checked}`]:{color:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,w.Fq)(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${$.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t.color}DisabledColor`]:`${"light"===e.palette.mode?(0,w.$n)(e.palette[t.color].main,.62):(0,w._j)(e.palette[t.color].main,.55)}`}},[`&.${$.checked} + .${$.track}`]:{backgroundColor:(e.vars||e).palette[t.color].main}})),A=(0,z.ZP)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${"light"===e.palette.mode?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${"light"===e.palette.mode?.38:.3}`})),B=(0,z.ZP)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),F=b.forwardRef(function(e,t){let a=(0,V.Z)({props:e,name:"MuiSwitch"}),{className:n,color:o="primary",edge:l=!1,size:i="medium",sx:s}=a,c=(0,f.Z)(a,M),d=(0,g.Z)({},a,{color:o,edge:l,size:i}),u=I(d),h=(0,r.jsx)(B,{className:u.thumb,ownerState:d});return(0,r.jsxs)(R,{className:(0,j.Z)(u.root,n),sx:s,ownerState:d,children:[(0,r.jsx)(D,(0,g.Z)({type:"checkbox",icon:h,checkedIcon:h,ref:t,ownerState:d},c,{classes:(0,g.Z)({},u,{root:u.switchBase})})),(0,r.jsx)(A,{className:u.track,ownerState:d})]})});var N=a(74813),q=function(e){let{name:t,...a}=e,{control:n}=(0,N.Gc)();return(0,r.jsx)(N.Qr,{control:n,name:t,render(e){let{field:t}=e;return(0,r.jsx)(F,{"data-component":"FormSwitch",...t,...a,checked:t.value,onChange:e=>t.onChange(e.target.checked)})}})},L=a(51322),E=a(79591),W=a(75761),K=a(422),_=a(45152),G=a(16803),O=a(25706),Y=a(82842),U=a(30686),H=a(32261),Q=function(e){let{index:t}=e,a=(0,N.Gc)(),{year:n,month:o,day:l,weekday:i}=(0,u.K0)(a.watch("vacations.".concat(t,".date")));(0,b.useEffect)(()=>{a.watch("vacations.".concat(t,".allday"),!0)&&(a.setValue("vacations.".concat(t,".startType"),2,{shouldValidate:!0}),a.setValue("vacations.".concat(t,".startTime"),"09:30"),a.setValue("vacations.".concat(t,".endType"),2,{shouldValidate:!0}),a.setValue("vacations.".concat(t,".endTime"),"18:30")),a.watch("vacations",[]).filter(e=>{let{allday:t}=e;return t}).length===a.watch("vacations",[]).length?a.setValue("allday",!0):0===a.watch("vacations",[]).filter(e=>{let{allday:t}=e;return t}).length&&a.setValue("allday",!1)},[a.watch("vacations.".concat(t,".allday"))]);let c=(0,b.useCallback)(e=>{let r=a.getValues("vacations.".concat(t,".startType")),n=a.getValues("vacations.".concat(t,".endType")),o=a.getValues("vacations.".concat(t,".startTime")),l=new Date("1970-01-0".concat(r,"T").concat(o,":00")),i=new Date("1970-01-0".concat(n,"T").concat(e,":00"));return l.getTime()<i.getTime()?void 0:"퇴근시간은 출근시간보다 늦어야합니다."},[a]);return(0,r.jsxs)(U.Z,{"data-component":"VacationDateBoxItem",padding:2,spacing:2,children:[(0,r.jsxs)(U.Z,{alignItems:"center",direction:"row",spacing:2,children:[(0,r.jsx)(H.Z,{fontWeight:"bold",children:"".concat(n,"-").concat(o.text,"-").concat(l.text," (").concat(i.text,")")}),(0,r.jsx)(G.Z,{children:(0,r.jsx)(_.Z,{control:(0,r.jsx)(q,{name:"vacations.".concat(t,".allday")}),label:"종일"})})]}),(0,r.jsxs)(s.Z,{alignItems:"center",direction:"row",mobileProps:{direction:void 0},point:"sm",spacing:2,children:[(0,r.jsxs)(Z.Z,{defaultValue:2,disabled:a.getValues("vacations.".concat(t,".allday")),label:"시작날짜 타입",name:"vacations.".concat(t,".startType"),size:"small",startAdornment:(0,r.jsx)(O.Z,{position:"start",children:(0,r.jsx)(K.Z,{})}),fullWidth:!0,required:!0,children:[(0,r.jsx)(Y.Z,{value:2,children:"당일"}),(0,r.jsx)(Y.Z,{value:3,children:"익일"})]}),(0,r.jsx)(E.Z,{disabled:a.getValues("vacations.".concat(t,".allday")),label:"시작시간",name:"vacations.".concat(t,".startTime"),size:"small",InputProps:{startAdornment:(0,r.jsx)(O.Z,{position:"start",children:(0,r.jsx)(W.Z,{})})},options:{pattern:{message:"유효한 시간을 입력해주세요.",value:h.Sz.hhmm},required:{message:"시간을 입력해주세요.",value:!0}},fullWidth:!0,required:!0}),(0,r.jsxs)(Z.Z,{defaultValue:2,disabled:a.getValues("vacations.".concat(t,".allday")),label:"종료날짜 타입",name:"vacations.".concat(t,".endType"),size:"small",startAdornment:(0,r.jsx)(O.Z,{position:"start",children:(0,r.jsx)(K.Z,{})}),fullWidth:!0,required:!0,children:[(0,r.jsx)(Y.Z,{value:2,children:"당일"}),(0,r.jsx)(Y.Z,{value:3,children:"익일"})]}),(0,r.jsx)(E.Z,{disabled:a.getValues("vacations.".concat(t,".allday")),label:"종료시간",name:"vacations.".concat(t,".endTime"),size:"small",InputProps:{startAdornment:(0,r.jsx)(O.Z,{position:"start",children:(0,r.jsx)(W.Z,{})})},options:{pattern:{message:"유효한 시간을 입력해주세요.",value:h.Sz.hhmm},required:{message:"시간을 입력해주세요.",value:!0},validate:{time:c}},fullWidth:!0,required:!0})]})]})},X=a(19385),J=a(8543),ee=function(){let{palette:{divider:e}}=(0,X.Z)(),t=(0,N.Gc)(),{fields:a,append:n,remove:o}=(0,N.Dq)({control:t.control,name:"vacations"}),l=(0,b.useMemo)(()=>{let e=t.getValues("start"),a=t.getValues("end"),r=new Date(e).getTime(),n=new Date(a).getTime();return r<=n},[t.watch("start"),t.watch("end")]),{data:i,isLoading:s}=m.Z.useGetVacationDate({endYmdDay:(0,u.K0)(t.watch("end","")).day.value,endYmdMonth:(0,u.K0)(t.watch("end","")).month.value,endYmdYear:""===t.watch("end","")?0:(0,u.K0)(t.watch("end","")).year,startYmdDay:(0,u.K0)(t.watch("start","")).day.value,startYmdMonth:(0,u.K0)(t.watch("start","")).month.value,startYmdYear:""===t.watch("start","")?0:(0,u.K0)(t.watch("start","")).year,vacationType:4010},{enabled:l});(0,b.useEffect)(()=>{var e;o(),null==i||null===(e=i.body)||void 0===e||e.forEach(e=>{n({allday:!0,date:e,endTime:"18:30",endType:2,startTime:"09:30",startType:2})})},[i]),(0,b.useEffect)(()=>{if(o(),"4010"===t.watch("type")){var e;null==i||null===(e=i.body)||void 0===e||e.forEach(e=>{n({allday:!0,date:e,endTime:"18:30",endType:2,startTime:"09:30",startType:2})})}},[t.watch("type")]),(0,b.useEffect)(()=>{for(let e=0;e<t.watch("vacations").length;e++)t.setValue("vacations.".concat(e,".allday"),t.watch("allday"))},[t.watch("allday")]);let c=(0,b.useMemo)(()=>s?(0,r.jsxs)(U.Z,{alignItems:"center",border:"1px solid",borderColor:e,borderRadius:2,"data-component":"VacationDateBox",justifyContent:"center",padding:2,spacing:2,children:[(0,r.jsx)(J.Z,{alignSelf:"center",width:300,children:(0,r.jsx)(L.Z,{iconName:"calendar"})}),(0,r.jsx)(H.Z,{variant:"caption",children:"날짜 불러오는 중..."})]}):a.length>0?(0,r.jsxs)(U.Z,{"data-component":"VacationDateBox",children:[(0,r.jsx)(G.Z,{children:(0,r.jsx)(_.Z,{control:(0,r.jsx)(q,{name:"allday"}),defaultChecked:a.filter(e=>{let{allday:t}=e;return t}).length===a.length,label:"종일 일괄선택"})}),a.map((e,t)=>(0,r.jsx)(Q,{index:t},e.date))]}):(0,r.jsxs)(U.Z,{alignItems:"center",border:"1px solid",borderColor:e,borderRadius:2,"data-component":"VacationDateBox",justifyContent:"center",padding:2,spacing:2,children:[(0,r.jsx)(J.Z,{alignSelf:"center",width:100,children:(0,r.jsx)(L.Z,{iconName:"calendarEvent"})}),(0,r.jsx)(H.Z,{variant:"caption",children:"신청 가능한 날짜가 없습니다."})]}),[s,a,e]);return(0,r.jsx)(U.Z,{"data-component":"VacationDateBox",children:"4010"===t.watch("type")?c:(0,r.jsxs)(U.Z,{alignItems:"center",border:"1px solid",borderColor:e,borderRadius:2,justifyContent:"center",padding:2,spacing:2,children:[(0,r.jsx)(J.Z,{alignSelf:"center",bgcolor:"white",borderRadius:"50%",height:100,width:100,children:(0,r.jsx)(L.Z,{iconName:"scrollDown"})}),(0,r.jsx)(H.Z,{variant:"caption",children:"세부 설정이 필요없는 연차입니다."})]})})},et=a(4601),ea=a(17981),er=a(7693),en=a(76252),eo=a(81545),el=a(82525),ei=a(3140),es=a(58091),ec=a(22206),ed=a(91336),eu=a(39918),eh=a(14293),em=a(71049),ep=a(30005),ev=a(91868),eZ=function(){var e,t,a,n;let o=(0,N.cI)({defaultValues:{type:"4010",vacations:[]}}),l=(0,ep.useQueryClient)(),f=(0,ev.Zl)(d.Cw),g=(0,ev.Zl)(d.zK),j=(0,ev.Zl)(d.fU),{data:y}=m.Z.useUserInfo(),{data:w,refetch:k}=m.Z.useGetApplUserList("vacation"),{data:T}=m.Z.useGetVacationTimeInfo(parseInt(o.watch("type"),10)),V=m.Z.usePostVacationForm({onMutate(e){g({children:"휴가 신청서 ".concat(e.openApiJadeVacationFormProps.length,"건 등록 중"),open:!0})},onSettled(){g(void 0)},onSuccess(){var e;let t=null===(e=o.getValues("list"))||void 0===e?void 0:e.length;o.reset(),k(),l.invalidateQueries(["jade","getApplList"]),j({children:(0,r.jsx)(U.Z,{children:(0,r.jsxs)(H.Z,{variant:"caption",children:[t,"건의 휴가 신청이 완료됐습니다."]})}),severity:"success",title:"휴가 신청 완료"})}});(0,b.useEffect)(()=>{o.setValue("to",(null==w?void 0:w.body)||[])},[w]);let z=()=>{let e=o.getValues("list");if(!e||0===e.length)return;let t=null==e?void 0:e.map(e=>{var t,a;let{year:r,month:{value:n},day:{value:o}}=(0,u.K0)(e.start),{year:l,month:{value:i},day:{value:s}}=(0,u.K0)(e.end),c=e.vacations.map(e=>{let{date:t,startType:a,startTime:r,endType:n,endTime:o,allday:l}=e,{year:i,month:{value:s},day:{value:c}}=(0,u.K0)(t),{hour:{value:d},minute:{value:h}}=(0,u.K0)("".concat(t,"T").concat(r)),{hour:{value:m},minute:{value:p}}=(0,u.K0)("".concat(t,"T").concat(o));return{allday:l,date:{day:c,month:s,year:i},end:{hour:m,minute:p,type:n},start:{hour:d,minute:h,type:a}}});return{applUserList:e.to.map(e=>{let{id:t}=e;return t}),completeRefUserList:null===(t=e.ccc)||void 0===t?void 0:t.map(e=>{let{id:t}=e;return t}),end:{day:s,month:i,year:l},list:c,reason:e.reason,refUserList:null===(a=e.cc)||void 0===a?void 0:a.map(e=>{let{id:t}=e;return t}),start:{day:o,month:n,year:r},type:e.type}});V.mutate({openApiJadeVacationFormProps:t})},C=()=>{f({body:"휴가를 신청하시겠습니까?",confirm:{icon:(0,r.jsx)(ea.Z,{}),onClick(){z(),f(void 0)},text:"신청"},title:"휴가 신청",type:"info"})},S=(0,b.useCallback)(e=>{if(0===e.vacations.length)return;let t=o.getValues("list")||[];if(t.length>10){j({children:(0,r.jsx)(U.Z,{children:(0,r.jsx)(H.Z,{variant:"caption",children:"신청서는 한 번에 10개까지 가능합니다."})}),severity:"error",title:"리스트가 꽉 찼습니다."});return}let{year:a,month:{text:n},day:{text:l},weekday:{text:i}}=(0,u.K0)(e.start),s={allday:e.allday,cc:e.cc,ccc:e.ccc,end:e.end,list:e.list,reason:e.reason,rowDate:"".concat(a,"-").concat(n,"-").concat(l," (").concat(i,")"),rowImages:e.to.map(e=>e.id),rowTitle:"연차휴가 신청 (".concat(e.start," ~ ").concat(e.end,")"),start:e.start,to:e.to,type:e.type,vacations:e.vacations};t=t.filter(e=>{let{start:t}=e;return t!==s.start});let c=[...t,s].sort((e,t)=>new Date(e.start).getTime()-new Date(t.start).getTime());o.setValue("list",c)},[o,V,j]),P=(0,b.useCallback)(e=>{o.setValue("cc",e.cc),o.setValue("ccc",e.ccc),o.setValue("date",e.date),o.setValue("reason",e.reason),o.setValue("startType",e.startType),o.setValue("startTime",e.startTime),o.setValue("endType",e.endType),o.setValue("endTime",e.endTime),o.setValue("to",e.to),o.setValue("worktype",e.worktype)},[o]),$=(0,b.useCallback)(e=>{let t=o.getValues("list")||[],a=t.filter(t=>t.start!==e.start);o.setValue("list",a)},[o]),M=(0,b.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"".concat(e,"시간 (").concat(e/8,"일)")},[]);return(0,r.jsx)(p.Z,{icon:(0,r.jsx)(es.Z,{color:"primary"}),name:"VacationBox",title:"휴가 신청서",children:(0,r.jsx)(i.Z,{form:o,onSubmit:S,children:(0,r.jsxs)(U.Z,{spacing:4,children:[(0,r.jsx)(U.Z,{direction:"row",justifyContent:"end",spacing:2,children:(0,r.jsx)(eu.Z,{disabled:0===(o.watch("to")||[]).length,startIcon:(0,r.jsx)(ea.Z,{}),type:"submit",variant:"outlined",children:"신청서 큐 등록"})}),(0,r.jsxs)(s.Z,{direction:"row",mobileProps:{direction:void 0},point:"sm",spacing:4,children:[(0,r.jsx)(em.Z,{label:"이름",name:"name",size:"small",value:(null==y?void 0:null===(e=y.body)||void 0===e?void 0:e.name)||"",InputProps:{readOnly:!0,startAdornment:(0,r.jsx)(O.Z,{position:"start",children:(0,r.jsx)(et.Z,{})})},fullWidth:!0}),(0,r.jsx)(Z.Z,{defaultValue:"4010",label:"연차 타입",name:"type",size:"small",startAdornment:(0,r.jsx)(O.Z,{position:"start",children:(0,r.jsx)(es.Z,{})}),fullWidth:!0,required:!0,children:(0,r.jsx)(Y.Z,{value:"4010",children:"연차휴가"})})]}),(0,r.jsxs)(s.Z,{direction:"row",mobileProps:{direction:void 0},point:"sm",spacing:4,children:[(0,r.jsx)(c.Z,{label:"시작일자",name:"start",size:"small",type:"date",InputProps:{startAdornment:(0,r.jsx)(O.Z,{position:"start",children:(0,r.jsx)(el.Z,{})})},options:{pattern:{message:"유효한 날짜를 입력해주세요.",value:h.Sz.yyyymmddDash},required:{message:"날짜를 입력해주세요.",value:!0}},fullWidth:!0,required:!0}),(0,r.jsx)(c.Z,{label:"종료일자",name:"end",size:"small",type:"date",InputProps:{startAdornment:(0,r.jsx)(O.Z,{position:"start",children:(0,r.jsx)(el.Z,{})})},options:{pattern:{message:"유효한 날짜를 입력해주세요.",value:h.Sz.yyyymmddDash},required:{message:"날짜를 입력해주세요.",value:!0},validate:{date(e){let t=o.getValues("start"),a=new Date(t).getTime(),r=new Date(e).getTime();if(r<a)return"종료일자는 시작일자보다 미래여야합니다."}}},fullWidth:!0,required:!0})]}),(0,r.jsx)(c.Z,{defaultValue:"개인 사유로 인한 연차 신청",label:"사유",minRows:2,name:"reason",size:"small",InputProps:{startAdornment:(0,r.jsx)(O.Z,{position:"start",children:(0,r.jsx)(ei.Z,{})})},options:{required:{message:"사유를 입력해주세요.",value:!0}},multiline:!0,required:!0}),(0,r.jsxs)(s.Z,{direction:"row",mobileProps:{direction:void 0},point:"sm",spacing:2,children:[(0,r.jsx)(em.Z,{label:"총 연차",size:"small",value:M(null==T?void 0:null===(t=T.body)||void 0===t?void 0:t.total),InputProps:{startAdornment:(0,r.jsx)(O.Z,{position:"start",children:(0,r.jsx)(er.Z,{})})},fullWidth:!0}),(0,r.jsx)(em.Z,{label:"사용된 연차",size:"small",value:M(null==T?void 0:null===(a=T.body)||void 0===a?void 0:a.use),InputProps:{startAdornment:(0,r.jsx)(O.Z,{position:"start",children:(0,r.jsx)(en.Z,{})})},fullWidth:!0}),(0,r.jsx)(em.Z,{label:"남은 연차",size:"small",value:M(null==T?void 0:null===(n=T.body)||void 0===n?void 0:n.remain),InputProps:{startAdornment:(0,r.jsx)(O.Z,{position:"start",children:(0,r.jsx)(eo.Z,{})})},fullWidth:!0})]}),(0,r.jsx)(eh.Z,{}),(0,r.jsx)(ee,{}),(0,r.jsx)(eh.Z,{}),(0,r.jsx)(x.Z,{}),(0,r.jsx)(eh.Z,{}),(0,r.jsx)(U.Z,{direction:"row",justifyContent:"end",spacing:2,children:(0,r.jsx)(eu.Z,{disabled:0===(o.watch("to")||[]).length,startIcon:(0,r.jsx)(ea.Z,{}),type:"submit",variant:"outlined",children:"신청서 큐 등록"})}),(0,r.jsx)(v.Z,{list:o.watch("list"),onDeleteClick:$,onSelectClick:P}),(0,r.jsx)(U.Z,{direction:"row",justifyContent:"end",spacing:2,children:(0,r.jsx)(eu.Z,{disabled:0===(o.watch("list")||[]).length,startIcon:(0,r.jsx)(ea.Z,{}),type:"button",variant:"outlined",onClick:C,children:"등록"})}),(0,r.jsxs)(ec.Z,{severity:"info",children:[(0,r.jsx)(ed.Z,{children:"안내"}),(0,r.jsx)(U.Z,{children:(0,r.jsx)(H.Z,{variant:"caption",children:"연차휴가 이외의 휴가는 API를 확인하기 어려워 지원하지 않습니다."})})]})]})})})},ex=function(){return(0,r.jsx)(l.Z,{name:"VacationTemplate",children:(0,r.jsx)(eZ,{})})};function ef(){return(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(n.Z,{title:"휴가 신청",url:"/form/vacation"}),(0,r.jsx)(ex,{})]})}}},function(e){e.O(0,[644,47,384,742,479,291,813,640,281,901,870,812,853,774,888,179],function(){return e(e.s=95980)}),_N_E=e.O()}]);