(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[372],{244:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(4938)),s=n(5893),l=(0,i.default)([(0,s.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},"0"),(0,s.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime");t.Z=l},4918:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(4938)),s=n(5893),l=(0,i.default)((0,s.jsx)("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"}),"CalendarToday");t.Z=l},1733:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(4938)),s=n(5893),l=(0,i.default)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=l},7957:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(4938)),s=n(5893),l=(0,i.default)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=l},2109:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(4938)),s=n(5893),l=(0,i.default)((0,s.jsx)("path",{d:"M14 6v15H3v-2h2V3h9v1h5v15h2v2h-4V6h-3zm-4 5v2h2v-2h-2z"}),"MeetingRoom");t.Z=l},8317:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(4938)),s=n(5893),l=(0,i.default)((0,s.jsx)("path",{d:"M11 11h-1v2h2v-1l9.73 9.73L20.46 23 14 16.54V21H3v-2h2V7.54l-4-4 1.27-1.27L11 11zm3 .49L5.51 3H14v1h5v12.49l-2-2V6h-3v5.49z"}),"NoMeetingRoom");t.Z=l},8791:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/form/overtime",function(){return n(4159)}])},6270:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(5893),i=n(413),s=n(3223),l=function(e){let{onChange:t,options:n,...l}=e,a=e=>{if(s.S.dateTimeWrite.test(e.currentTarget.value)){let n=s.S.dateTimeWrite.exec(e.currentTarget.value);n&&(e.currentTarget.value="".concat(n[1],":").concat(n[2]))}else s.S.dateTimeDelete.test(e.currentTarget.value)&&(e.currentTarget.value=e.currentTarget.value.replace(":",""));t&&t(e)};return(0,r.jsx)(i.Z,{inputProps:{inputMode:"numeric"},options:{onChange:a,...n},...l})}},1484:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(5893),i=n(3050),s=n(7679),l=n(1733),a=n(7957),o=n(1760),d=n(562),c=n(918),u=n(9144),m=n(9630),p=n(7294),v=n(7536),h=function(e){var t;let{item:n,onSelectClick:i,onDeleteClick:h,...Z}=e,x=(0,v.Gc)(),[j,f]=(0,p.useState)(!0),g=(0,p.useCallback)(()=>{i&&i(n)},[x,n,i]),y=(0,p.useCallback)(()=>{f(!1)},[]),T=(0,p.useCallback)(()=>{!j&&h&&h(n)},[j,n]);return(0,r.jsx)(o.Z,{in:j,style:{transformOrigin:"0 0 0"},timeout:500,onAnimationEnd:T,children:(0,r.jsx)(c.Z,{"data-component":"FormListItem",children:(0,r.jsxs)(u.Z,{alignItems:"center",direction:"row",padding:2,spacing:2,...Z,children:[(0,r.jsxs)(u.Z,{direction:"column",flex:1,spacing:2,children:[(0,r.jsx)(m.Z,{fontWeight:"bold",children:n.rowTitle}),(0,r.jsxs)(u.Z,{direction:"row",spacing:2,children:[(0,r.jsxs)(u.Z,{alignItems:"center",direction:"row",flex:1,spacing:1,children:[(0,r.jsx)(u.Z,{direction:"row",spacing:-1.5,children:null===(t=n.rowImages)||void 0===t?void 0:t.slice(0,3).map(e=>(0,r.jsx)(s.Z,{height:24,userId:e,width:24},e))}),(0,r.jsx)(m.Z,{fontSize:"0.8rem",children:n.rowImages&&n.rowImages.length>3?"+".concat(n.rowImages.length-3):""})]}),(0,r.jsx)(m.Z,{variant:"caption",children:n.rowDate})]})]}),(0,r.jsxs)(u.Z,{alignItems:"center",direction:"row",spacing:1,children:[i?(0,r.jsx)(d.Z,{onClick:g,children:(0,r.jsx)(a.Z,{})}):null,h?(0,r.jsx)(d.Z,{onClick:y,children:(0,r.jsx)(l.Z,{})}):null]})]})})})},Z=n(1953),x=function(e){let{list:t,onSelectClick:n,onDeleteClick:s,...l}=e;return(0,r.jsx)(u.Z,{"data-component":"FormList",spacing:2,...l,children:t&&t.length>0?t.map(e=>(0,r.jsx)(h,{item:e,onDeleteClick:s,onSelectClick:n},e.date)):(0,r.jsxs)(u.Z,{alignItems:"center",justifyContent:"center",spacing:2,children:[(0,r.jsx)(Z.Z,{width:150,children:(0,r.jsx)(i.Z,{iconName:"add"})}),(0,r.jsx)(m.Z,{variant:"subtitle1",children:"신청서 큐 등록을 눌러 신청서를 추가하세요!"})]})})}},6142:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(5893),i=n(5343),s=n(2631),l=n(8316),a=n(6541),o=n(7536),d=function(e){var t,n;let{name:d,error:c,helperText:u,...m}=e,{formState:p,register:v}=(0,o.Gc)();return(0,r.jsxs)(i.Z,{"data-component":"FormSelect",fullWidth:m.fullWidth,children:[(0,r.jsx)(l.Z,{error:c||void 0!==p.errors[d],required:!0,children:m.label}),(0,r.jsx)(a.Z,{error:c||void 0!==p.errors[d],...v(d),...m}),(0,r.jsx)(s.Z,{error:c||void 0!==p.errors[d],children:(null===(t=p.errors[d])||void 0===t?void 0:null===(n=t.message)||void 0===n?void 0:n.toString())||u})]})}},3873:function(e,t,n){"use strict";var r=n(4839);t.Z=r.Z},4159:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var r=n(5893),i=n(4626),s=n(722),l=n(8646),a=n(9741),o=n(1901),d=n(4794),c=n(413),u=n(6270),m=n(1254),p=n(5865),v=n(3223),h=n(1955),Z=n(3017),x=n(1484),j=n(6142),f=n(3873),g=n(244),y=n(8201),T=n(6540),w=n(3147),b=n(4918),V=n(4603),k=n(2109),C=n(8317),z=n(8570),I=n(4225),P=n(4373),S=n(9041),A=n(60),M=n(9144),W=n(7836),_=n(9630),q=n(7294),L=n(7536),O=n(4480),H=function(){var e,t;let n=(0,L.cI)(),i=(0,O.Zl)(m.Cw),s=(0,O.Zl)(m.zK),{data:l}=h.Z.useUserInfo(),{data:a,isSuccess:H}=h.Z.useGetCalendar({month:(0,p.K0)(n.watch("date")).month.text,year:(0,p.K0)(n.watch("date")).year.toString()}),{data:D,refetch:E}=h.Z.useGetApplUserList("overtime"),N=h.Z.usePostOvertimeForm({onMutate(){s({open:!0})},onSettled(){s(void 0)},onSuccess(){n.reset(),E()}});(0,q.useEffect)(()=>{var e;let t=null==a?void 0:null===(e=a.body)||void 0===e?void 0:e.calendarItems.flat(),r=null==t?void 0:t.find(e=>{let{ymd:t}=e;return t===n.watch("date").replaceAll("-","")});n.setValue("worktype",(null==r?void 0:r.dayCode)||9900)},[a,n.watch("date")]),(0,q.useEffect)(()=>{n.setValue("to",(null==D?void 0:D.body)||[])},[D]);let K=(0,q.useMemo)(()=>{let{year:e,month:t,day:n}=(0,p.K0)();return"".concat(e,"-").concat(t.text,"-").concat(n.text)},[]),F=(0,q.useCallback)(e=>{if(H){var t;let n=null===(t=a.body)||void 0===t?void 0:t.calendarItems.flat();return null==n?void 0:n.find(t=>{let{ymd:n}=t;return n===(null==e?void 0:e.replaceAll("-",""))})}},[a,H]),U=(0,q.useCallback)(e=>{let t=F(n.getValues("date")),r="startTime"===e?null==t?void 0:t.startTime:null==t?void 0:t.endTime;return(null==r?void 0:r.time)?"".concat(null==r?void 0:r.time):""},[a]),G=()=>{let e=n.getValues("list");if(!e||0===e.length)return;let t=null==e?void 0:e.map(e=>{var t,n;let r=(0,p.K0)(e.date);return{applUserList:e.to.map(e=>{let{id:t}=e;return t}),completeRefUserList:null===(t=e.ccc)||void 0===t?void 0:t.map(e=>{let{id:t}=e;return t}),day:r.day.text,endTime:{time:e.endTime,type:e.endType},month:r.month.text,reason:e.reason,refUserList:null===(n=e.cc)||void 0===n?void 0:n.map(e=>{let{id:t}=e;return t}),startTime:{time:e.startTime,type:e.startType},workType:e.worktype,year:r.year}});N.mutate({openApiJadeOvertimeFormProps:t})},R=()=>{i({body:"재택근무를 신청하시겠습니까?",confirm:{icon:(0,r.jsx)(T.Z,{}),onClick(){G(),i(void 0)},text:"신청"},title:"재택 근무 신청",type:"info"})},X=(0,q.useCallback)(e=>{let t=n.getValues("list")||[],r=(0,p.K0)(e.date),i={cc:e.cc,ccc:e.ccc,date:e.date,endTime:e.endTime,endType:e.endType,reason:e.reason,rowDate:"".concat(e.date," (").concat(r.weekday.text,")"),rowImages:e.to.map(e=>e.id),rowTitle:"연장근무 신청 (".concat(e.startTime," ~ ").concat(e.endTime,")"),startTime:e.startTime,startType:e.startType,to:e.to,worktype:e.worktype};t&&(t=t.filter(e=>{let{date:t}=e;return t!==i.date}));let s=[...t,i].sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime());n.setValue("list",s)},[n,N]),B=(0,q.useCallback)(e=>{n.setValue("cc",e.cc),n.setValue("ccc",e.ccc),n.setValue("date",e.date),n.setValue("reason",e.reason),n.setValue("startType",e.startType),n.setValue("startTime",e.startTime),n.setValue("endType",e.endType),n.setValue("endTime",e.endTime),n.setValue("to",e.to),n.setValue("worktype",e.worktype)},[n]),J=(0,q.useCallback)(e=>{let t=n.getValues("list")||[],r=t.filter(t=>t.date!==e.date);n.setValue("list",r)},[n]);return(0,r.jsx)(Z.Z,{icon:(0,r.jsx)(z.Z,{color:"primary"}),name:"OverTimeBox",title:"연장근무 신청",children:(0,r.jsx)(o.Z,{form:n,onSubmit:X,children:(0,r.jsxs)(M.Z,{spacing:4,children:[(0,r.jsxs)(d.Z,{direction:"row",mobileProps:{direction:void 0},point:"sm",spacing:4,children:[(0,r.jsx)(W.Z,{label:"이름",name:"name",size:"small",value:(null==l?void 0:null===(e=l.body)||void 0===e?void 0:e.name)||"",InputProps:{readOnly:!0,startAdornment:(0,r.jsx)(S.Z,{position:"start",children:(0,r.jsx)(y.Z,{})})},fullWidth:!0}),(0,r.jsx)(c.Z,{defaultValue:K,helperText:"".concat(K,"부터 선택 가능"),label:"날짜",name:"date",size:"small",type:"date",InputProps:{inputProps:{min:K},startAdornment:(0,r.jsx)(S.Z,{position:"start",children:(0,r.jsx)(w.Z,{})})},options:{min:{message:"".concat(K," 이전 날짜는 입력할 수 없습니다."),value:K},pattern:{message:"유효한 날짜를 입력해주세요.",value:v.S.yyyymmddDash},required:{message:"날짜를 입력해주세요.",value:!0},validate:{holiday(e){var t;return(null===(t=F(e))||void 0===t?void 0:t.holiday)?"휴일은 선택할 수 없습니다.":void 0}}},fullWidth:!0,required:!0})]}),(0,r.jsxs)(d.Z,{direction:"row",mobileProps:{direction:void 0},point:"sm",spacing:4,children:[(0,r.jsx)(W.Z,{label:"출근",size:"small",value:U("startTime"),InputProps:{readOnly:!0,startAdornment:(0,r.jsx)(S.Z,{position:"start",children:(0,r.jsx)(g.Z,{})})},fullWidth:!0}),(0,r.jsx)(W.Z,{label:"퇴근",size:"small",value:U("endTime"),InputProps:{readOnly:!0,startAdornment:(0,r.jsx)(S.Z,{position:"start",children:(0,r.jsx)(g.Z,{})})},fullWidth:!0})]}),(0,r.jsx)(W.Z,{label:"근무 유형",name:"workType",size:"small",value:(null===(t=F(n.watch("date")))||void 0===t?void 0:t.dayName)||"",InputProps:{readOnly:!0,startAdornment:(0,r.jsx)(S.Z,{position:"start",children:(0,r.jsx)(b.Z,{})})},fullWidth:!0}),(0,r.jsx)(P.Z,{}),(0,r.jsxs)(d.Z,{direction:"row",mobileProps:{direction:void 0},point:"sm",spacing:4,children:[(0,r.jsxs)(j.Z,{defaultValue:"2",label:"출근 타입",name:"startType",size:"small",startAdornment:(0,r.jsx)(S.Z,{position:"start",children:(0,r.jsx)(k.Z,{})}),fullWidth:!0,required:!0,children:[(0,r.jsx)(A.Z,{value:"2",children:"당일"}),(0,r.jsx)(A.Z,{value:"3",children:"익일"})]}),(0,r.jsx)(u.Z,{defaultValue:"09:30",label:"출근시간",name:"startTime",size:"small",InputProps:{startAdornment:(0,r.jsx)(S.Z,{position:"start",children:(0,r.jsx)(g.Z,{})})},options:{pattern:{message:"유효한 시간을 입력해주세요.",value:v.S.hhmm},required:{message:"시간을 입력해주세요.",value:!0}},fullWidth:!0,required:!0})]}),(0,r.jsxs)(d.Z,{direction:"row",mobileProps:{direction:void 0},point:"sm",spacing:4,children:[(0,r.jsxs)(j.Z,{defaultValue:"2",label:"퇴근 타입",name:"endType",size:"small",startAdornment:(0,r.jsx)(S.Z,{position:"start",children:(0,r.jsx)(C.Z,{})}),fullWidth:!0,required:!0,children:[(0,r.jsx)(A.Z,{value:"2",children:"당일"}),(0,r.jsx)(A.Z,{value:"3",children:"익일"})]}),(0,r.jsx)(u.Z,{defaultValue:"18:30",label:"퇴근시간",name:"endTime",size:"small",InputProps:{startAdornment:(0,r.jsx)(S.Z,{position:"start",children:(0,r.jsx)(g.Z,{})})},options:{pattern:{message:"유효한 시간을 입력해주세요.",value:v.S.hhmm},required:{message:"시간을 입력해주세요.",value:!0}},fullWidth:!0,required:!0})]}),(0,r.jsx)(c.Z,{defaultValue:"연장근무 소요로 인한 연장근무 신청",label:"사유",minRows:2,name:"reason",size:"small",InputProps:{startAdornment:(0,r.jsx)(S.Z,{position:"start",children:(0,r.jsx)(V.Z,{})})},options:{required:{message:"사유를 입력해주세요.",value:!0}},multiline:!0,required:!0}),(0,r.jsx)(_.Z,{color:"error",variant:"caption",children:"※ 휴일 연장근무 신청은 아직 지원하지 않습니다."}),(0,r.jsx)(P.Z,{}),(0,r.jsx)(f.Z,{}),(0,r.jsx)(P.Z,{}),(0,r.jsx)(M.Z,{direction:"row",justifyContent:"end",spacing:2,children:(0,r.jsx)(I.Z,{startIcon:(0,r.jsx)(T.Z,{}),type:"submit",variant:"outlined",children:"신청서 큐 등록"})}),(0,r.jsx)(x.Z,{list:n.watch("list"),onDeleteClick:J,onSelectClick:B}),(0,r.jsx)(M.Z,{direction:"row",justifyContent:"end",spacing:2,children:(0,r.jsx)(I.Z,{disabled:0===(n.watch("list")||[]).length,startIcon:(0,r.jsx)(T.Z,{}),type:"button",variant:"outlined",onClick:R,children:"등록"})})]})})})},D=function(){return(0,r.jsx)(a.Z,{name:"OverTimeTemplate",children:(0,r.jsx)(H,{})})};function E(){return(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(i.Z,{title:"연장근무 신청",url:"/form/overtime"}),(0,r.jsx)(s.Z,{children:(0,r.jsx)(D,{})})]})}}},function(e){e.O(0,[296,742,790,444,536,260,154,338,719,31,839,774,888,179],function(){return e(e.s=8791)}),_N_E=e.O()}]);